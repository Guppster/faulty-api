{"bugs":[{"creation_time":"Tue May 19 17:02:14 EEST 1998","keywords":[],"see_also":[],"resolution":"FIXED","cf_blocking_fx":"---","cf_fx_iteration":"---","cf_blocking_b2g":"---","cf_status_b2g_1_4":"---","id":382,"is_open":false,"cf_qa_whiteboard":"","assigned_to_detail":{"name":"wtc@google.com","real_name":"Wan-Teh Chang","id":1584,"email":"wtc@google.com"},"creator_detail":{"name":"jam@pobox.com","real_name":"Kazushi Marukawa","id":757,"email":"jam@pobox.com"},"cf_status_firefox37":"---","priority":"P3","cf_status_firefox36":"---","classification":"Components","cf_status_firefox35":"---","version":"other","cf_status_firefox34":"---","op_sys":"All","last_change_time":"Tue Apr 27 18:00:00 EEST 1999","cf_crash_signature":"","mentors_detail":[],"cf_tracking_b2g":"---","qa_contact_detail":{"name":"gerardok@formerly-netscape.com.tld","real_name":"","id":4015,"email":"gerardok@formerly-netscape.com.tld"},"cf_status_b2g_2_0m":"---","status":"CLOSED","is_cc_accessible":true,"cf_tracking_firefox37":"---","cf_tracking_firefox36":"---","cf_tracking_relnote_b2g":"---","flags":[],"cf_status_firefox_esr31":"---","whiteboard":"","platform":"All","cf_tracking_firefox_esr31":"---","cf_blocking_fennec":"---","cf_fx_points":"---","cf_tracking_firefox35":"---","cf_tracking_firefox34":"---","cf_status_b2g_2_2":"---","cf_status_b2g_2_1":"---","cf_status_b2g_2_0":"---","assigned_to":"wtc@google.com","summary":"No not shared library support in Makefiles","cf_tracking_e10s":"---","cc":[],"severity":"trivial","creator":"jam@pobox.com","product":"NSPR","depends_on":[],"cf_tracking_firefox_relnote":"---","blocks":[],"is_confirmed":true,"groups":[],"cf_last_resolved":"Mon Nov 16 23:09:36 EET 1998","url":"","qa_contact":"gerardok@formerly-netscape.com.tld","target_milestone":"---","component":"NSPR","is_creator_accessible":true,"cc_detail":[],"mentors":[],"cf_user_story":""}],"comments":[{"is_private":false,"creation_time":"Tue May 19 17:02:14 EEST 1998","creator":"jam@pobox.com","author":"jam@pobox.com","time":"Tue May 19 17:02:14 EEST 1998","text":"Created by Kazushi Marukawa (jam@pobox.com) on Tuesday, May 19, 1998 3:02:14 AM PDT Additional Details : If I decide to use not shared libraries only, some makefiles under nsprpub directory made errors.  I made patches for Makefiles to fix them.  But I couldn't paste them here.  I put my patch at \"http://www.io.com/~kazushi/unix/netscape.noshared-patch\" Updated by Kazushi Marukawa (jam@pobox.com) on Friday, June 12, 1998 11:42:40 PM PDT Additional Details : I decide to paste above my patch because I want to delete it.  Index: nsprpub/config/rules.mk =================================================================== RCS file: /cvsroot/mozilla/nsprpub/config/rules.mk,v retrieving revision 3.5 diff -u -r3.5 rules.mk --- rules.mk    1998/05/07 07:23:49     3.5 +++ rules.mk    1998/05/19 05:47:19 @@ -84,10 +84,12 @@  else   LIBRARY                = $(OBJDIR)/lib$(LIBRARY_NAME)$(LIBRARY_VERSION).$(LIB_SUFFIX) +ifdef MKSHLIB  ifeq ($(OS_ARCH)$(OS_RELEASE), AIX4.1)  SHARED_LIBRARY = $(OBJDIR)/lib$(LIBRARY_NAME)$(LIBRARY_VERSION)_shr.a  else  SHARED_LIBRARY = $(OBJDIR)/lib$(LIBRARY_NAME)$(LIBRARY_VERSION).$(DLL_SUFFIX) +endif  endif  ifdef HAVE_PURIFY  ifdef DSO_BACKEND Index: nsprpub/lib/ds/Makefile =================================================================== RCS file: /cvsroot/mozilla/nsprpub/lib/ds/Makefile,v retrieving revision 3.2 diff -u -r3.2 Makefile --- Makefile    1998/04/30 19:36:45     3.2 +++ Makefile    1998/05/19 05:47:20 @@ -97,7 +97,9 @@  export:: $(TARGETS)         $(INSTALL) -m 444 $(HEADERS) $(DIST)/include         $(INSTALL) -m 444 $(TARGETS) $(DIST)/lib +ifdef SHARED_LIBRARY         $(INSTALL) -m 444 $(SHARED_LIBRARY) $(DIST)/bin +endif  ifeq ($(MOZ_BITS),16)         $(INSTALL) -m 444 $(HEADERS) $(MOZ_INCL)         $(INSTALL) -m 444 $(TARGETS) $(MOZ_DIST)/lib Index: nsprpub/lib/libc/src/Makefile =================================================================== RCS file: /cvsroot/mozilla/nsprpub/lib/libc/src/Makefile,v retrieving revision 3.2 diff -u -r3.2 Makefile --- Makefile    1998/04/30 19:36:46     3.2 +++ Makefile    1998/05/19 05:47:22 @@ -95,7 +95,9 @@   export:: $(TARGETS)         $(INSTALL) -m 444 $(TARGETS) $(DIST)/lib +ifdef SHARED_LIBRARY         $(INSTALL) -m 444 $(SHARED_LIBRARY) $(DIST)/bin +endif  ifeq ($(MOZ_BITS),16)         $(INSTALL) -m 444 $(TARGETS) $(MOZ_DIST)/lib         $(INSTALL) -m 444 $(TARGETS) $(MOZ_DIST)/bin Index: nsprpub/lib/msgc/src/Makefile =================================================================== RCS file: /cvsroot/mozilla/nsprpub/lib/msgc/src/Makefile,v retrieving revision 3.2 diff -u -r3.2 Makefile --- Makefile    1998/04/30 19:36:47     3.2 +++ Makefile    1998/05/19 05:47:25 @@ -98,7 +98,9 @@   export:: $(TARGETS)         $(INSTALL) -m 444 $(TARGETS) $(DIST)/lib +ifdef SHARED_LIBRARY         $(INSTALL) -m 444 $(SHARED_LIBRARY) $(DIST)/bin +endif  ifeq ($(MOZ_BITS),16)         $(INSTALL) -m 444 $(TARGETS) $(MOZ_DIST)/lib         $(INSTALL) -m 444 $(TARGETS) $(MOZ_DIST)/bin Index: nsprpub/pr/src/Makefile =================================================================== RCS file: /cvsroot/mozilla/nsprpub/pr/src/Makefile,v retrieving revision 3.3 diff -u -r3.3 Makefile --- Makefile    1998/04/21 17:21:49     3.3 +++ Makefile    1998/05/19 05:47:35 @@ -296,7 +296,9 @@   export:: $(TARGETS)         $(INSTALL) -m 444 $(TARGETS) $(DIST)/lib +ifdef SHARED_LIBRARY         $(INSTALL) -m 444 $(SHARED_LIBRARY) $(DIST)/bin +endif  ifeq ($(MOZ_BITS),16)         $(INSTALL) -m 444 $(TARGETS) $(MOZ_DIST)/lib         $(INSTALL) -m 444 $(TARGETS) $(MOZ_DIST)/bin Index: nsprpub/pr/tests/dll/Makefile =================================================================== RCS file: /cvsroot/mozilla/nsprpub/pr/tests/dll/Makefile,v retrieving revision 3.3 diff -u -r3.3 Makefile --- Makefile    1998/05/08 18:52:44     3.3 +++ Makefile    1998/05/19 05:47:56 @@ -58,7 +58,9 @@  TARGETS                = $(SHARED_LIBRARY) $(IMPORT_LIBRARY)  endif  else +ifdef MKSHLIB  SHARED_LIBRARY = $(OBJDIR)/libmy.$(DLL_SUFFIX) +endif  TARGETS                = $(SHARED_LIBRARY)  endif  @@ -82,9 +84,13 @@  endif   export:: $(TARGETS) +ifdef SHARED_LIBRARY         $(NSINSTALL) $(TARGETS) ../$(OBJDIR)/dll +endif   install:: export   clean:: +ifdef SHARED_LIBRARY         rm -rf $(TARGETS) +endif Updated by Wan-Teh Chang (wtc@netscape.com) on Tuesday, June 16, 1998 8:33:05 PM PDT Additional Details : Accepted the bug.  Thanks for the patch.  I will review it and check it in.  I am curious: which Unix platform do you use that doesn't have shared libraries? Updated by Wan-Teh Chang (wtc@netscape.com) on Monday, July 13, 1998 2:55:01 PM PDT Additional Details : Your fix has been checked into our internal development version of nspr.  I used pretty much the patch you provided.  The public Mozilla tree is in a stability code freeze right now.  I will check in the fix when the code freeze is over.","id":948,"bug_id":382,"tags":[]},{"is_private":false,"creation_time":"Mon Nov 16 23:09:59 EET 1998","creator":"wtc@google.com","author":"wtc@google.com","time":"Mon Nov 16 23:09:59 EET 1998","text":"I have already checked in your patch but forgot to update this bug report.  Marked the bug fixed.","id":949,"bug_id":382,"tags":[]},{"is_private":false,"creation_time":"Fri Feb 05 16:26:59 EET 1999","creator":"glynn@formerly-netscape.com.tld","author":"glynn@formerly-netscape.com.tld","time":"Fri Feb 05 16:26:59 EET 1999","text":"qa contact set to gerardok@netscape.com for applicability review against new code base","id":950,"bug_id":382,"tags":[]},{"is_private":false,"creation_time":"Fri Feb 05 16:37:59 EET 1999","creator":"wtc@google.com","author":"wtc@google.com","time":"Fri Feb 05 16:37:59 EET 1999","text":"This bug has been fixed and I have verified the fix myself.  Closed the bug.","id":951,"bug_id":382,"tags":[]},{"is_private":false,"creation_time":"Tue Apr 27 18:00:59 EEST 1999","creator":"terry@mozilla.org","author":"terry@mozilla.org","time":"Tue Apr 27 18:00:59 EEST 1999","text":"NSPR now has its own Bugzilla product.  Moving this bug to the NSPR product.","id":952,"bug_id":382,"tags":[]}]}
