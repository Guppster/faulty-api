{"bugs":[{"creation_time":"Wed Sep 23 18:14:11 EEST 1998","keywords":[],"see_also":[],"resolution":"INVALID","cf_blocking_fx":"---","cf_fx_iteration":"---","cf_blocking_b2g":"---","cf_status_b2g_1_4":"---","id":873,"is_open":false,"cf_qa_whiteboard":"","assigned_to_detail":{"name":"wtc@google.com","real_name":"Wan-Teh Chang","id":1584,"email":"wtc@google.com"},"creator_detail":{"name":"rainer@aaa-plus.com","real_name":"","id":3940,"email":"rainer@aaa-plus.com"},"cf_status_firefox37":"---","priority":"P2","cf_status_firefox36":"---","classification":"Components","cf_status_firefox35":"---","version":"other","cf_status_firefox34":"---","op_sys":"Other","last_change_time":"Wed Jun 28 18:11:59 EEST 2000","cf_crash_signature":"","mentors_detail":[],"cf_tracking_b2g":"---","qa_contact_detail":{"name":"phillip@formerly-netscape.com.tld","real_name":"","id":4078,"email":"phillip@formerly-netscape.com.tld"},"cf_status_b2g_2_0m":"---","status":"VERIFIED","is_cc_accessible":true,"cf_tracking_firefox37":"---","cf_tracking_firefox36":"---","cf_tracking_relnote_b2g":"---","flags":[],"cf_status_firefox_esr31":"---","whiteboard":"","platform":"All","cf_tracking_firefox_esr31":"---","cf_blocking_fennec":"---","cf_fx_points":"---","cf_tracking_firefox35":"---","cf_tracking_firefox34":"---","cf_status_b2g_2_2":"---","cf_status_b2g_2_1":"---","cf_status_b2g_2_0":"---","assigned_to":"wtc@google.com","summary":"PR_..printf(\"%d %lld\", LONG_MIN, LONGLONG_MIN) doesn't work","cf_tracking_e10s":"---","cc":["mike+mozilla@meer.net"],"severity":"normal","creator":"rainer@aaa-plus.com","product":"NSPR","depends_on":[],"cf_tracking_firefox_relnote":"---","blocks":[],"is_confirmed":true,"groups":[],"cf_last_resolved":"Mon May 17 22:36:21 EEST 1999","url":"","qa_contact":"phillip@formerly-netscape.com.tld","target_milestone":"---","component":"NSPR","is_creator_accessible":true,"cc_detail":[{"name":"mike+mozilla@meer.net","real_name":"Mike McCabe","id":159,"email":"mike+mozilla@meer.net"}],"mentors":[],"cf_user_story":""}],"comments":[{"is_private":false,"creation_time":"Wed Sep 23 18:14:11 EEST 1998","creator":"rainer@aaa-plus.com","author":"rainer@aaa-plus.com","time":"Wed Sep 23 18:14:11 EEST 1998","text":"Subject says it all, more or less. Buggy source file is prprf.c, function dosprintf:    if (u.l < 0) {       u.l = -u.l; /* BUG: overflow if u.l equals LONG_MIN */       flags |= _NEG;   }  Same problem for long longs, a few lines further down.  Th","id":3419,"bug_id":873,"tags":[]},{"is_private":false,"creation_time":"Sat Oct 24 16:56:59 EEST 1998","creator":"wtc@google.com","author":"wtc@google.com","time":"Sat Oct 24 16:56:59 EEST 1998","text":"Thanks for the bug report, and sorry about the delay.  I saw what is wrong in the code.  I will send you a patch soon and let you review and try it out.","id":3420,"bug_id":873,"tags":[]},{"is_private":false,"creation_time":"Wed Feb 03 16:08:59 EET 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Wed Feb 03 16:08:59 EET 1999","text":"Setting all current Open/Normal to M4.","id":3421,"bug_id":873,"tags":[]},{"is_private":false,"creation_time":"Sat Mar 06 07:10:59 EET 1999","creator":"paulmac@formerly-netscape.com.tld","author":"paulmac@formerly-netscape.com.tld","time":"Sat Mar 06 07:10:59 EET 1999","text":"per leger, assigning QA contacts to all open bugs without QA contacts according to list at http://bugzilla.mozilla.org/describecomponents.cgi?product=Browser","id":3422,"bug_id":873,"tags":[]},{"is_private":false,"creation_time":"Wed Apr 07 04:14:59 EEST 1999","creator":"brendan-obsolete@formerly-netscape.com.tld","author":"brendan-obsolete@formerly-netscape.com.tld","time":"Wed Apr 07 04:14:59 EEST 1999","text":"Need to track in js/src/jsprf.c, adding mccabe@netscape.com to cc: list.  /be","id":3423,"bug_id":873,"tags":[]},{"is_private":false,"creation_time":"Thu Apr 08 23:29:59 EEST 1999","creator":"chofmann@gmail.com","author":"chofmann@gmail.com","time":"Thu Apr 08 23:29:59 EEST 1999","text":"moving to m6","id":3424,"bug_id":873,"tags":[]},{"is_private":false,"creation_time":"Tue Apr 27 18:00:59 EEST 1999","creator":"terry@mozilla.org","author":"terry@mozilla.org","time":"Tue Apr 27 18:00:59 EEST 1999","text":"NSPR now has its own Bugzilla product.  Moving this bug to the NSPR product.","id":3425,"bug_id":873,"tags":[]},{"is_private":false,"creation_time":"Mon May 17 22:36:59 EEST 1999","creator":"wtc@google.com","author":"wtc@google.com","time":"Mon May 17 22:36:59 EEST 1999","text":"I looked at the code more carefully and found that it is fine.  The code in question:     if (u.l < 0) {         u.l = -u.l;         flags |= _NEG;     } does overflow if u.l is LONG_MIN, but when u.l is passed to cvt_l, it is always cast to unsigned long before conversion, i.e., at the time of conversion, u.l is always treated as an unsigned long.  So the overflow when it's treated as a signed type does not cause any harm.  I suppose it might be clearer to declare u.l as an unsigned type.  Here is a test program: ********* foo.c *********** #include \"nspr.h\" #include <limits.h>  int main() {     PR_fprintf(PR_STDOUT, \"%ld %lld\\n\", LONG_MIN, LLONG_MIN);     return 0; } ******** end foo.c ************  On Solaris 2.6, using the Workshop 4.2 compiler, I get the correct output: -2147483648 -9223372036854775808  Marked the bug invalid.","id":3426,"bug_id":873,"tags":[]},{"is_private":false,"creation_time":"Tue May 25 18:01:59 EEST 1999","creator":"phillip@formerly-netscape.com.tld","author":"phillip@formerly-netscape.com.tld","time":"Tue May 25 18:01:59 EEST 1999","text":"sounds good to me - marking verified","id":3427,"bug_id":873,"tags":[]}]}
