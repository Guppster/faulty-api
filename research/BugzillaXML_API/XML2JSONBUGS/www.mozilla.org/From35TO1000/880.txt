{"bugs":[{"creation_time":"Wed Sep 23 22:58:36 EEST 1998","keywords":[],"see_also":[],"resolution":"FIXED","cf_blocking_fx":"---","cf_fx_iteration":"---","cf_blocking_b2g":"---","cf_status_b2g_1_4":"---","id":880,"is_open":false,"cf_qa_whiteboard":"","assigned_to_detail":{"name":"gordon@formerly-netscape.com.tld","real_name":"gordon","id":4306,"email":"gordon@formerly-netscape.com.tld"},"creator_detail":{"name":"hanappe@ircam.fr","real_name":"","id":3948,"email":"hanappe@ircam.fr"},"cf_status_firefox37":"---","priority":"P2","cf_status_firefox36":"---","classification":"Components","cf_status_firefox35":"---","version":"other","cf_status_firefox34":"---","op_sys":"Mac System 7.5","last_change_time":"Wed Jun 28 18:12:45 EEST 2000","cf_crash_signature":"","mentors_detail":[],"cf_tracking_b2g":"---","qa_contact_detail":{"name":"phillip@formerly-netscape.com.tld","real_name":"","id":4078,"email":"phillip@formerly-netscape.com.tld"},"cf_status_b2g_2_0m":"---","status":"VERIFIED","is_cc_accessible":true,"cf_tracking_firefox37":"---","cf_tracking_firefox36":"---","cf_tracking_relnote_b2g":"---","flags":[],"cf_status_firefox_esr31":"---","whiteboard":"","platform":"PowerPC","cf_tracking_firefox_esr31":"---","cf_blocking_fennec":"---","cf_fx_points":"---","cf_tracking_firefox35":"---","cf_tracking_firefox34":"---","cf_status_b2g_2_2":"---","cf_status_b2g_2_1":"---","cf_status_b2g_2_0":"---","assigned_to":"gordon@formerly-netscape.com.tld","summary":"[PP]WaitForThisThread forever in ReadWriteProc","cf_tracking_e10s":"---","cc":["larryh@formerly-netscape.com.tld","srinivas@formerly-netscape.com.tld","wtc@google.com"],"severity":"normal","creator":"hanappe@ircam.fr","product":"NSPR","depends_on":[],"cf_tracking_firefox_relnote":"---","blocks":[],"is_confirmed":true,"groups":[],"cf_last_resolved":"Tue Jun 29 18:58:48 EEST 1999","url":"","qa_contact":"phillip@formerly-netscape.com.tld","target_milestone":"---","component":"NSPR","is_creator_accessible":true,"cc_detail":[{"name":"larryh@formerly-netscape.com.tld","real_name":"larryh (gone)","id":3983,"email":"larryh@formerly-netscape.com.tld"},{"name":"srinivas@formerly-netscape.com.tld","real_name":"","id":4349,"email":"srinivas@formerly-netscape.com.tld"},{"name":"wtc@google.com","real_name":"Wan-Teh Chang","id":1584,"email":"wtc@google.com"}],"mentors":[],"cf_user_story":""}],"comments":[{"is_private":false,"creation_time":"Wed Sep 23 22:58:36 EEST 1998","creator":"hanappe@ircam.fr","author":"hanappe@ircam.fr","time":"Wed Sep 23 22:58:36 EEST 1998","text":"Version:  1998-09-04 and before Platform: Macintosh, MacOS 7.x, 8.x Module:   NSPR, machine dependent code  The following code works fine, most of the times: (http://cvs-mirror.mozilla.org/webtools/lxr/source/nsprpub/pr/src/md/mac/macio.c #266)  266         if (op == READ_ASYNC) 267             (void) PBReadAsync(&pbAsync); 268         else 269             (void) PBWriteAsync(&pbAsync); 270 271         WaitOnThisThread(me, PR_INTERVAL_NO_TIMEOUT);  Sometimes, however, it waits on this thread forever. Couldn't figger out why. Not yet. The following modifications work fine for me, but eliminate the context switch:  266         if (op == READ_ASYNC) 267             (void) PBReadSync(&pbAsync);  /* now synchronous */ 268         else 269             (void) PBWriteSync(&pbAsync); /* now synchronous */ 270 271         /* WaitOnThisThread(me, PR_INTERVAL_NO_TIMEOUT);   not needed */ 272         me->io_pending = PR_FALSE;        /* nothing pending, io done */  Cheers, Peter Hanappe hanappe@ircam.fr","id":3450,"bug_id":880,"tags":[]},{"is_private":false,"creation_time":"Wed Feb 03 16:09:59 EET 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Wed Feb 03 16:09:59 EET 1999","text":"Setting all current Open/Normal to M4.","id":3451,"bug_id":880,"tags":[]},{"is_private":false,"creation_time":"Sat Mar 06 07:10:59 EET 1999","creator":"paulmac@formerly-netscape.com.tld","author":"paulmac@formerly-netscape.com.tld","time":"Sat Mar 06 07:10:59 EET 1999","text":"per leger, assigning QA contacts to all open bugs without QA contacts according to list at http://bugzilla.mozilla.org/describecomponents.cgi?product=Browser","id":3452,"bug_id":880,"tags":[]},{"is_private":false,"creation_time":"Thu Apr 01 04:38:59 EEST 1999","creator":"wtc@google.com","author":"wtc@google.com","time":"Thu Apr 01 04:38:59 EEST 1999","text":"Reassigning Mac NSPR bugs to gordon.","id":3453,"bug_id":880,"tags":[]},{"is_private":false,"creation_time":"Wed Apr 07 07:40:59 EEST 1999","creator":"don@formerly-netscape.com.tld","author":"don@formerly-netscape.com.tld","time":"Wed Apr 07 07:40:59 EEST 1999","text":"Changed target milestone to M6.","id":3454,"bug_id":880,"tags":[]},{"is_private":false,"creation_time":"Tue Apr 27 17:59:59 EEST 1999","creator":"terry@mozilla.org","author":"terry@mozilla.org","time":"Tue Apr 27 17:59:59 EEST 1999","text":"NSPR now has its own Bugzilla product.  Moving this bug to the NSPR product.","id":3455,"bug_id":880,"tags":[]},{"is_private":false,"creation_time":"Tue Jun 29 18:58:59 EEST 1999","creator":"sdagley@mac.com","author":"sdagley@mac.com","time":"Tue Jun 29 18:58:59 EEST 1999","text":"This was addressed by the change to not call WaitForThisThread() if the I/O call completes immediately (part of bug #3536).","id":3456,"bug_id":880,"tags":[]},{"is_private":false,"creation_time":"Tue Jun 29 21:35:59 EEST 1999","creator":"phillip@formerly-netscape.com.tld","author":"phillip@formerly-netscape.com.tld","time":"Tue Jun 29 21:35:59 EEST 1999","text":"sounds good to me -- marking verified.","id":3457,"bug_id":880,"tags":[]}]}
