{"bugs":[{"creation_time":"Wed Apr 08 19:02:34 EEST 1998","keywords":[],"see_also":[],"resolution":"FIXED","cf_blocking_fx":"---","cf_fx_iteration":"---","cf_blocking_b2g":"---","cf_status_b2g_1_4":"---","id":115,"is_open":false,"cf_qa_whiteboard":"","assigned_to_detail":{"name":"wtc@google.com","real_name":"Wan-Teh Chang","id":1584,"email":"wtc@google.com"},"creator_detail":{"name":"thorsten@wurzelausix.cs.uni-sb.de","real_name":"Thorsten Heit","id":785,"email":"thorsten@wurzelausix.cs.uni-sb.de"},"cf_status_firefox37":"---","priority":"P3","cf_status_firefox36":"---","classification":"Components","cf_status_firefox35":"---","version":"other","cf_status_firefox34":"---","op_sys":"Linux","last_change_time":"Thu Jan 16 23:12:40 EET 2003","cf_crash_signature":"","mentors_detail":[],"cf_tracking_b2g":"---","cf_status_b2g_2_0m":"---","status":"CLOSED","is_cc_accessible":true,"cf_tracking_firefox37":"---","cf_tracking_firefox36":"---","cf_tracking_relnote_b2g":"---","flags":[],"cf_status_firefox_esr31":"---","whiteboard":"","platform":"x86","cf_tracking_firefox_esr31":"---","cf_blocking_fennec":"---","cf_fx_points":"---","cf_tracking_firefox35":"---","cf_tracking_firefox34":"---","cf_status_b2g_2_2":"---","cf_status_b2g_2_1":"---","cf_status_b2g_2_0":"---","assigned_to":"wtc@google.com","summary":"Navigator doesn't build","cf_tracking_e10s":"---","cc":[],"severity":"critical","creator":"thorsten@wurzelausix.cs.uni-sb.de","product":"NSPR","depends_on":[],"cf_tracking_firefox_relnote":"---","blocks":[],"is_confirmed":true,"groups":[],"cf_last_resolved":"Thu Jan 16 23:12:18 EET 2003","url":"","qa_contact":"","target_milestone":"---","component":"NSPR","is_creator_accessible":true,"cc_detail":[],"mentors":[],"cf_user_story":""}],"comments":[{"is_private":false,"creation_time":"Wed Apr 08 19:02:34 EEST 1998","creator":"thorsten@wurzelausix.cs.uni-sb.de","author":"thorsten@wurzelausix.cs.uni-sb.de","time":"Wed Apr 08 19:02:34 EEST 1998","text":"Created by Thorsten Heit (thorsten@wurzelausix.cs.uni-sb.de) on Wednesday, April 8, 1998 5:02:34 AM PDT Additional Details : The patches in ns/nsprpub/pr/include/md/_linux.* are taken from the SunOS4 files and seem to work:  --- ns/nsprpub/pr/include/md/_linux.h.orig Tue Mar 31 04:05:25 1998 +++ ns/nsprpub/pr/include/md/_linux.h  Wed Apr  8 13:41:18 1998 @@ -29,6 +29,8 @@  #define _PR_SI_ARCHITECTURE \"ppc\"  #elif defined(__alpha)  #define _PR_SI_ARCHITECTURE \"alpha\" +#elif defined(__sparc__) +#define _PR_SI_ARCHITECTURE \"sparc\"  #else  #define _PR_SI_ARCHITECTURE \"x86\"  #endif @@ -92,6 +94,12 @@   /* XXX not sure if this is correct, or maybe it should be 17? */  #define PR_NUM_GCREGS 9 + + +#elif defined(__sparc__) +/* Sparc based Linux */ +#define _MD_GET_SP(_t) (_t)->md.context[0].__jmpbuf[0].__fp +#define PR_NUM_GCREGS _JBLEN   #else  /* Intel based Linux */ --- ns/nsprpub/pr/include/md/_linux.cfg.orig Tue Mar 31 04:05:25 1998 +++ ns/nsprpub/pr/include/md/_linux.cfg  Tue Apr  7 15:04:35 1998 @@ -116,6 +116,55 @@  #define PR_BYTES_PER_WORD_LOG2  3  #define PR_BYTES_PER_DWORD_LOG2 3  +#elif defined(__sparc__) + +#undef  IS_LITTLE_ENDIAN +#define IS_BIG_ENDIAN 1 +#undef  HAVE_LONG_LONG +#define HAVE_ALIGNED_DOUBLES +#undef HAVE_ALIGNED_LONGLONGS + +#define PR_BYTES_PER_BYTE   1 +#define PR_BYTES_PER_SHORT  2 +#define PR_BYTES_PER_INT    4 +#define PR_BYTES_PER_INT64  8 +#define PR_BYTES_PER_LONG   4 +#define PR_BYTES_PER_FLOAT  4 +#define PR_BYTES_PER_DOUBLE 8 +#define PR_BYTES_PER_WORD   4 +#define PR_BYTES_PER_DWORD  8 +#define PR_BYTES_PER_WORD_LOG2   2 +#define PR_BYTES_PER_DWORD_LOG2  3 + +#define PR_BITS_PER_BYTE    8 +#define PR_BITS_PER_SHORT   16 +#define PR_BITS_PER_INT     32 +#define PR_BITS_PER_INT64   64 +#define PR_BITS_PER_LONG    32 +#define PR_BITS_PER_FLOAT   32 +#define PR_BITS_PER_DOUBLE  64 +#define PR_BITS_PER_WORD    32 + +#define PR_BITS_PER_BYTE_LOG2   3 +#define PR_BITS_PER_SHORT_LOG2  4 +#define PR_BITS_PER_INT_LOG2    5 +#define PR_BITS_PER_INT64_LOG2  6 +#define PR_BITS_PER_LONG_LOG2   5 +#define PR_BITS_PER_FLOAT_LOG2  5 +#define PR_BITS_PER_DOUBLE_LOG2 6 +#define PR_BITS_PER_WORD_LOG2   5 + +#define PR_ALIGN_OF_SHORT   2 +#define PR_ALIGN_OF_INT     4 +#define PR_ALIGN_OF_LONG    4 +#define PR_ALIGN_OF_INT64   8 +#define PR_ALIGN_OF_FLOAT   4 +#define PR_ALIGN_OF_DOUBLE  8 +#define PR_ALIGN_OF_POINTER 4 + +#define BYTES_PER_WORD_LOG2 PR_BYTES_PER_WORD_LOG2 +#define BYTES_PER_DWORD_LOG2 PR_BYTES_PER_DWORD_LOG2 +  #else   #define IS_LITTLE_ENDIAN 1      The ns/config/config.guess file file should be changed because all Linux supported platforms are working the same way:  --- ns/config/config.guess.orig Wed Apr  8 13:51:27 1998 +++ ns/config/config.guess      Wed Apr  8 13:53:26 1998 @@ -196,13 +196,7 @@      i[3456]86:NetBSD:*:*)         echo ${UNAME_MACHINE}-unknown-netbsd${UNAME_RELEASE}         exit 0 ;; -    alpha:Linux:*:*) -       echo ${UNAME_MACHINE}-unknown-linux -       exit 0 ;; -    i[3456]86:Linux:*:*) -       echo ${UNAME_MACHINE}-unknown-linux -       exit 0 ;; -    ppc:Linux:*:*) +    *:Linux:*:*)         echo ${UNAME_MACHINE}-unknown-linux         exit 0 ;;      i[3456]86:UNIX_SV:4.*:* | i[3456]86:SYSTEM_V:4.*:*) Updated by Wan-Teh Chang (wtc@netscape.com) on Friday, April 24, 1998 12:05:36 PM PDT Additional Details : Added bug to myself.  I will merge the patches to ns/nsprpub. I will email Brian Ostrom <briano@netscape.com> about the patch to ns/config/config.guess. Updated by Wan-Teh Chang (wtc@netscape.com) on Tuesday, June 16, 1998 8:21:46 PM PDT Additional Details : I believed that Mozilla builds and runs on Sparc Linux now.  I ported nsprpub, and Chris McAfee ported the rest of Mozilla.  Marked the bug resolved. Updated by Wan-Teh Chang (wtc@netscape.com) on Tuesday, June 16, 1998 8:26:25 PM PDT Additional Details : Closed the bug.","id":135,"bug_id":115,"tags":[]},{"is_private":false,"creation_time":"Tue Apr 27 18:00:59 EEST 1999","creator":"terry@mozilla.org","author":"terry@mozilla.org","time":"Tue Apr 27 18:00:59 EEST 1999","text":"NSPR now has its own Bugzilla product.  Moving this bug to the NSPR product.","id":136,"bug_id":115,"tags":[]},{"is_private":false,"creation_time":"Thu Jan 16 23:11:16 EET 2003","creator":"brant@gurganus.name","author":"brant@gurganus.name","time":"Thu Jan 16 23:11:16 EET 2003","text":"missing resolution","id":1712270,"bug_id":115,"tags":[]},{"is_private":false,"creation_time":"Thu Jan 16 23:12:18 EET 2003","creator":"brant@gurganus.name","author":"brant@gurganus.name","time":"Thu Jan 16 23:12:18 EET 2003","text":"resolving","id":1712273,"bug_id":115,"tags":[]},{"is_private":false,"creation_time":"Thu Jan 16 23:12:40 EET 2003","creator":"brant@gurganus.name","author":"brant@gurganus.name","time":"Thu Jan 16 23:12:40 EET 2003","text":"closing","id":1712275,"bug_id":115,"tags":[]}]}
