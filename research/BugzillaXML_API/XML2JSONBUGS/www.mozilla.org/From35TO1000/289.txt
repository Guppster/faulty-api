{"bugs":[{"creation_time":"Sat May 02 02:43:40 EEST 1998","keywords":[],"see_also":[],"resolution":"WORKSFORME","cf_blocking_fx":"---","cf_fx_iteration":"---","cf_blocking_b2g":"---","cf_status_b2g_1_4":"---","id":289,"is_open":false,"cf_qa_whiteboard":"","assigned_to_detail":{"name":"gagan@formerly-netscape.com.tld","real_name":"Gagan","id":1686,"email":"gagan@formerly-netscape.com.tld"},"creator_detail":{"name":"tenthumbs@cybernex.net","real_name":"","id":1644,"email":"tenthumbs@cybernex.net"},"cf_status_firefox37":"---","priority":"P3","cf_status_firefox36":"---","classification":"Components","cf_status_firefox35":"---","version":"Trunk","cf_status_firefox34":"---","op_sys":"Linux","last_change_time":"Sun Jun 09 19:57:05 EEST 2002","cf_crash_signature":"","mentors_detail":[],"cf_tracking_b2g":"---","qa_contact_detail":{"name":"paulmac@formerly-netscape.com.tld","real_name":"Paul MacQuiddy","id":3819,"email":"paulmac@formerly-netscape.com.tld"},"cf_status_b2g_2_0m":"---","status":"VERIFIED","cf_feature_b2g":"---","is_cc_accessible":true,"cf_tracking_firefox37":"---","cf_tracking_firefox36":"---","cf_tracking_relnote_b2g":"---","flags":[],"cf_status_firefox_esr31":"---","whiteboard":"","platform":"x86","cf_tracking_firefox_esr31":"---","cf_blocking_fennec":"---","cf_fx_points":"---","cf_tracking_firefox35":"---","cf_tracking_firefox34":"---","cf_status_b2g_2_2":"---","cf_status_b2g_2_1":"---","cf_status_b2g_2_0":"---","assigned_to":"gagan@formerly-netscape.com.tld","summary":"Cache database changed but files are not (19980429 as well)","cf_tracking_e10s":"---","cc":[],"severity":"major","creator":"tenthumbs@cybernex.net","product":"Core","depends_on":[],"cf_tracking_firefox_relnote":"---","blocks":[],"is_confirmed":true,"groups":[],"cf_last_resolved":"Fri May 10 02:54:26 EEST 2002","url":"","qa_contact":"paulmac@formerly-netscape.com.tld","target_milestone":"M9","component":"Networking: Cache","is_creator_accessible":true,"cc_detail":[],"mentors":[],"cf_user_story":""}],"comments":[{"is_private":false,"creation_time":"Sat May 02 02:43:40 EEST 1998","creator":"tenthumbs@cybernex.net","author":"tenthumbs@cybernex.net","time":"Sat May 02 02:43:40 EEST 1998","text":"Created by   (tenthumbs@cybernex.net) on Friday, May 1, 1998 12:43:40 PM PDT Additional Details : It looks like the problem's in NET_CleanupCacheDirectory in lib/libnet/mkcache.c. I've added some instrumentation and now I seen the following when I run mozilla for a little bit.   NET_CleanupCacheDirectory cleaning \"/home/10thumbs/.mozilla/cache\" with prefix \"cache\" cleaning up cache directory of unknown cache files Got filename: 0B/cache354A190B0003806 from DBT Got filename: 0D/cache354A190D0013806.gif from DBT Got filename: 0E/cache354A190E0033806 from DBT Got filename: 0E/cache354A190E0043806.dat from DBT Got filename: 13/cache354A19130053806.html from DBT Got filename: 18/cache354A19180063806.html from DBT Got filename: 07/cache354A19270083806.htm from DBT Got filename: 0E/cache354A190E0023806.jpg from DBT Got filename: 19/cache354A19190073806.jpg from DBT XP_FileRemove fails on /19/cache354A19190073806.jpg; result=-1;  errno=2 Unknown cache file /19/cache354A19190073806.jpg found! -- deleteing... XP_FileRemove fails on /0B/cache354A190B0003806; result=-1;  errno=2 Unknown cache file /0B/cache354A190B0003806 found! -- deleteing... XP_FileRemove fails on /18/cache354A19180063806.html; result=-1;  errno=2 Unknown cache file /18/cache354A19180063806.html found! -- deleteing... XP_FileRemove fails on /0D/cache354A190D0013806.gif; result=-1;  errno=2 Unknown cache file /0D/cache354A190D0013806.gif found! -- deleteing... XP_FileRemove fails on /13/cache354A19130053806.html; result=-1;  errno=2 Unknown cache file /13/cache354A19130053806.html found! -- deleteing... XP_FileRemove fails on /0E/cache354A190E0023806.jpg; result=-1;  errno=2 Unknown cache file /0E/cache354A190E0023806.jpg found! -- deleteing... XP_FileRemove fails on /07/cache354A19270083806.htm; result=-1;  errno=2 Unknown cache file /07/cache354A19270083806.htm found! -- deleteing... XP_FileRemove fails on /0E/cache354A190E0043806.dat; result=-1;  errno=2 Unknown cache file /0E/cache354A190E0043806.dat found! -- deleteing... XP_FileRemove fails on /0E/cache354A190E0033806; result=-1;  errno=2 Unknown cache file /0E/cache354A190E0033806 found! -- deleteing... Deleting 3 unneeded cache entries Reseting number of files in cache to: 6  NET_CleanupCacheDirectory asks net_GetFilenameInCacheDBT which returns a correct relative pathname. NET_CleanupCacheDirectory then mangles it somewhere by prepending a '/' which causes XP_FileRemove to fail. This wouldn't be so bad but NET_CleanupCacheDirectory ignores the return value of XP_FileRemove and removes the filename from the cache database.  Updated by   (tenthumbs@cybernex.net) on Tuesday, May 19, 1998 4:54:41 AM PDT Additional Details : The internal function net_cache_recursive_file_finder doesn't work as advertised if the base_dir parameter does not end with a \"/\". This causes all teh problems seen later.","id":665,"bug_id":289,"tags":[]},{"is_private":false,"creation_time":"Tue Sep 08 21:02:59 EEST 1998","creator":"gagan@formerly-netscape.com.tld","author":"gagan@formerly-netscape.com.tld","time":"Tue Sep 08 21:02:59 EEST 1998","text":"cache is in the process of changing pretty significantly. I am marking this for later till the new cache architecture lands.","id":666,"bug_id":289,"tags":[]},{"is_private":false,"creation_time":"Wed Sep 09 16:52:59 EEST 1998","creator":"tenthumbs@cybernex.net","author":"tenthumbs@cybernex.net","time":"Wed Sep 09 16:52:59 EEST 1998","text":"Fine by me.  You should be aware I've verified this bug in Unix browsers as far back as 2.02.","id":667,"bug_id":289,"tags":[]},{"is_private":false,"creation_time":"Mon Jul 19 18:44:59 EEST 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Mon Jul 19 18:44:59 EEST 1999","text":"This may be an old bug...but gagan, can you confirm?  Or should er retest with latest?","id":668,"bug_id":289,"tags":[]},{"is_private":false,"creation_time":"Tue Jul 20 19:15:59 EEST 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Tue Jul 20 19:15:59 EEST 1999","text":"Changing all Networking Library/Browser bugs to Networking-Core component for Browser.  Occasionally, Bugzilla will burp and cause Verified bugs to reopen when I do this in a bulk change.  If this happens, I will fix. ;-)","id":669,"bug_id":289,"tags":[]},{"is_private":false,"creation_time":"Wed Jul 21 18:45:59 EEST 1999","creator":"paulmac@formerly-netscape.com.tld","author":"paulmac@formerly-netscape.com.tld","time":"Wed Jul 21 18:45:59 EEST 1999","text":"marking this verified as later, we will re-open if it is still a problem when the new cache lands here in a couple weeks","id":670,"bug_id":289,"tags":[]},{"is_private":false,"creation_time":"Tue Dec 14 00:33:59 EET 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Tue Dec 14 00:33:59 EET 1999","text":"Bulk move of all Networking-Core (to be deleted component) bugs to new Networking component.","id":671,"bug_id":289,"tags":[]},{"is_private":false,"creation_time":"Fri May 10 02:53:53 EEST 2002","creator":"choess@stwing.upenn.edu","author":"choess@stwing.upenn.edu","time":"Fri May 10 02:53:53 EEST 2002","text":"LATER is deprecated per bug 35839.","id":1333616,"bug_id":289,"tags":[]},{"is_private":false,"creation_time":"Fri May 10 02:54:26 EEST 2002","creator":"choess@stwing.upenn.edu","author":"choess@stwing.upenn.edu","time":"Fri May 10 02:54:26 EEST 2002","text":"WFM per comments.","id":1333618,"bug_id":289,"tags":[]},{"is_private":false,"creation_time":"Sun Jun 09 19:57:05 EEST 2002","creator":"benc@meer.net","author":"benc@meer.net","time":"Sun Jun 09 19:57:05 EEST 2002","text":"V","id":1389698,"bug_id":289,"tags":[]}]}
