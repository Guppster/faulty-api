{"bugs":[{"creation_time":"Tue Sep 29 00:39:54 EEST 1998","keywords":[],"is_cc_accessible":true,"flags":[],"whiteboard":"","see_also":[],"resolution":"FIXED","platform":"x86","cf_fx_points":"---","cf_fx_iteration":"---","id":929,"assigned_to":"don@formerly-netscape.com.tld","cc":["bryce@neptune.net"],"summary":"Crash with Most Frequented Pages","severity":"normal","creator":"bryce@neptune.net","product":"MozillaClassic","depends_on":[],"is_open":false,"blocks":[],"is_confirmed":true,"cf_qa_whiteboard":"","groups":[],"assigned_to_detail":{"name":"don@formerly-netscape.com.tld","real_name":"","id":1674,"email":"don@formerly-netscape.com.tld"},"creator_detail":{"name":"bryce@neptune.net","real_name":"Bryce Harrington","id":3630,"email":"bryce@neptune.net"},"priority":"P2","classification":"Graveyard","cf_last_resolved":"Tue Oct 27 22:48:17 EET 1998","version":"1998-09-04","url":"","qa_contact":"","op_sys":"Windows NT","last_change_time":"Thu Jan 16 06:02:53 EET 2014","target_milestone":"---","component":"Aurora/RDF FE","is_creator_accessible":true,"cc_detail":[{"name":"bryce@neptune.net","real_name":"Bryce Harrington","id":3630,"email":"bryce@neptune.net"}],"mentors":[],"mentors_detail":[],"cf_user_story":"","status":"VERIFIED"}],"comments":[{"is_private":false,"creation_time":"Tue Sep 29 00:39:54 EEST 1998","creator":"bryce@neptune.net","author":"bryce@neptune.net","time":"Tue Sep 29 00:39:54 EEST 1998","text":"While messing around with the (docked) Aurora history view, I had clicked on the [+] next to the Most Frequented Pages folder.  First time through, I went to debug and got the info listed below.  Second time I clicked \"Ignore\" (three times); eleven sites are listed under this topic.  Cause: ------ Line 176 of remstore.c has:   XP_ASSERT( (RDF_STRING_TYPE != type) || ( IsUTF8String((const char* )v)));  where at time of crash, type = 0x0003.  In rdf.h is the define: #define RDF_STRING_TYPE   ((RDF_ValueType)0x0003)   Abbreviated stack trace: ------------------------ 1.  XP_AssertAtLine(char * 0x00944ed4, int 0x000000af) line 2687 2.  remoteStoreAdd(RDF_TranslatorStruct * 0x009f8120, RDF_ResourceStruct * 0x00c02120, RDF_ResourceStruct * 0x009f8bf0, void * 0x00c063d0, unsigned short 0x0003, int 0x00000001) line 175 + 86 bytes 3.  collateOneHist(RDF_TranslatorStruct * 0x00a42eb0, RDF_ResourceStruct * 0x00aaea20, char * 0x02294c6e, char * 0x02294c4e, long 0x360adc0b, long 0x360adc0b, unsigned long 0x00000001, int 0x00000000) line 124 + 93 bytes 4.  collateHistory(RDF_TranslatorStruct * 0x00a42eb0, RDF_ResourceStruct * 0x00aaea20, int 0x00000000) line 99 + 37 bytes 5.  HistPossiblyAccessFile(RDF_TranslatorStruct * 0x00a42eb0, RDF_ResourceStruct * 0x00ab1640, RDF_ResourceStruct * 0x009f8950, int 0x00000001) line 618 + 20 bytes <Snip>   Debug output: ------------- www.thehistorynet.com error=0 h_name=1 task=31 Warning: no message line prompt for ID 0xF3A8. Warning: no message line prompt for ID 0xF3A8. Warning: no message line prompt for ID 0xF3A9. Warning: no message line prompt for ID 0xF3AA.  Created rdf:ht6 Warning: Creating a pane with no CDocument.  Created rdf:ht7 Warning: Creating a pane with no CDocument.  Created rdf:ht8 Warning: Creating a pane with no CDocument.  Created rdf:ht9 Warning: Creating a pane with no CDocument.   System: ------- I'm running WinNT4.0 SR3, on a 166MHz Dell Pentium with 64MB RAM and 200MB swap.  In addition to WinNT processes and mozilla, I am running cdplayer.exe, MSACCESS, TASKMGR, MSDEV, CRT, and a notepad-like editor.","id":3783,"bug_id":929,"tags":[]},{"is_private":false,"creation_time":"Fri Oct 16 19:31:59 EEST 1998","creator":"donwulff@iki.fi","author":"donwulff@iki.fi","time":"Fri Oct 16 19:31:59 EEST 1998","text":"*** Bug 764 has been marked as a duplicate of this bug. ***","id":3784,"bug_id":929,"tags":[]},{"is_private":false,"creation_time":"Fri Oct 16 19:37:59 EEST 1998","creator":"donwulff@iki.fi","author":"donwulff@iki.fi","time":"Fri Oct 16 19:37:59 EEST 1998","text":"Okay, here's the deal with this from 764: The RDF_STRING_TYPE and 'type' have nothing to do with the bug. It's IsUTF8String() that \"fails\"; this checks if the string is UTF8 string, and correctly returns FALSE, which causes an assert. If it's let to continue regardless of the assert, the Visual C libraries will crash in strlen() of some sort that expects an UTF8 string. In my case, the offending string is \"FortÃ© Agent\", which was sucked from my \"Start=>Programs\" menu. I'm yet to understand the RDF code well enough to analyze what the fix would be, but I'm guessing wrong/buggy RDF data-source wrappers/translator.","id":3785,"bug_id":929,"tags":[]},{"is_private":false,"creation_time":"Tue Oct 27 22:48:59 EET 1998","creator":"donwulff@iki.fi","author":"donwulff@iki.fi","time":"Tue Oct 27 22:48:59 EET 1998","text":"I am taking the risk and assuming somebody _has_ fixed this, since I can't reproduce either problem anymore with latest CVS pull. However, old bookmark-files with non-UTF8 characters will still mess up things. I think this is a bug, but perhaps under another bug-code.","id":3786,"bug_id":929,"tags":[]},{"is_private":false,"creation_time":"Fri Feb 05 16:48:59 EET 1999","creator":"glynn@formerly-netscape.com.tld","author":"glynn@formerly-netscape.com.tld","time":"Fri Feb 05 16:48:59 EET 1999","text":"marking verified against old code base","id":3787,"bug_id":929,"tags":[]}]}
