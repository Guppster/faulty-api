{"bugs":[{"creation_time":"Sat Jun 20 10:48:18 EEST 1998","keywords":["pp"],"see_also":[],"resolution":"FIXED","cf_blocking_fx":"---","cf_fx_iteration":"---","cf_blocking_b2g":"---","cf_status_b2g_1_4":"---","id":454,"is_open":false,"cf_qa_whiteboard":"","assigned_to_detail":{"name":"erik@vanderpoel.org","real_name":"Erik van der Poel","id":178851,"email":"erik@vanderpoel.org"},"creator_detail":{"name":"tim@quiknet.com","real_name":"Tim Eliseo","id":921,"email":"tim@quiknet.com"},"cf_status_firefox37":"---","priority":"P2","cf_status_firefox36":"---","classification":"Components","cf_status_firefox35":"---","version":"Trunk","cf_status_firefox34":"---","op_sys":"Linux","last_change_time":"Thu Mar 17 21:34:04 EET 2005","cf_crash_signature":"","mentors_detail":[],"cf_tracking_b2g":"---","qa_contact_detail":{"name":"teruko@formerly-netscape.com.tld","real_name":"Teruko Kobayashi","id":3851,"email":"teruko@formerly-netscape.com.tld"},"cf_status_b2g_2_0m":"---","status":"VERIFIED","cf_feature_b2g":"---","is_cc_accessible":true,"cf_tracking_firefox37":"---","cf_tracking_firefox36":"---","cf_tracking_relnote_b2g":"---","flags":[],"cf_status_firefox_esr31":"---","whiteboard":"","platform":"x86","cf_tracking_firefox_esr31":"---","cf_blocking_fennec":"---","cf_fx_points":"---","cf_tracking_firefox35":"---","cf_tracking_firefox34":"---","cf_status_b2g_2_2":"---","cf_status_b2g_2_1":"---","cf_status_b2g_2_0":"---","assigned_to":"erik@vanderpoel.org","summary":"Unix: 0x80-0x9F in cp1252 do not display correctly","cf_tracking_e10s":"---","cc":["akkzilla@shallowsky.com","ben.bucksch@beonex.com","blee@formerly-netscape.com.tld","dbaron@dbaron.org","karl@huftis.org","pavlov@pavlov.net","rbs@maths.uq.edu.au"],"severity":"normal","creator":"tim@quiknet.com","product":"Core","depends_on":[],"cf_tracking_firefox_relnote":"---","blocks":[16507,17962],"is_confirmed":true,"groups":[],"cf_last_resolved":"Wed Aug 30 19:21:57 EEST 2000","url":"","qa_contact":"teruko@formerly-netscape.com.tld","target_milestone":"---","component":"Internationalization","is_creator_accessible":true,"cc_detail":[{"name":"akkzilla@shallowsky.com","real_name":"Akkana Peck","id":3858,"email":"akkzilla@shallowsky.com"},{"name":"ben.bucksch@beonex.com","real_name":"Ben Bucksch (:BenB)","id":22599,"email":"ben.bucksch@beonex.com"},{"name":"blee@formerly-netscape.com.tld","real_name":"","id":4638,"email":"blee@formerly-netscape.com.tld"},{"name":"dbaron@dbaron.org","real_name":"David Baron [:dbaron] (UTC-5) (needinfo? for questions)","id":3881,"email":"dbaron@dbaron.org"},{"name":"karl@huftis.org","real_name":"Karl Ove 'I hate marquee' Hufthammer","id":6573,"email":"karl@huftis.org"},{"name":"pavlov@pavlov.net","real_name":"Stuart Parmenter","id":5756,"email":"pavlov@pavlov.net"},{"name":"rbs@maths.uq.edu.au","real_name":"","id":5630,"email":"rbs@maths.uq.edu.au"}],"mentors":[],"cf_user_story":""}],"comments":[{"is_private":false,"creation_time":"Sat Jun 20 10:48:18 EEST 1998","creator":"tim@quiknet.com","author":"tim@quiknet.com","time":"Sat Jun 20 10:48:18 EEST 1998","text":"Created by Tim Eliseo (tim@quiknet.com) on Friday, June 19, 1998 8:48:18 PM PDT Additional Details : Many Web pages use quote characters in the range 0x91-0x94 which are Microsoft codepage 1252 extensions. For X these are currently mapped to the ? character rather than normal quote characters. A patch follows to fix this. Note that sequences such as &#145; are currently mapped properly; this problem only shows up when the actual characters are in the file.  --- mozilla/lib/libi18n/sbconvtb.c Sat May  9 03:57:48 1998 +++ mozilla/lib/libi18n/sbconvtb.c.new Fri Jun 19 20:28:19 1998 @@ -71,7 +71,7 @@  /* Tables for Win CP1252 -> ISO 8859-1          */  PRIVATE unsigned char cp1252_to_iso8859_1[] = {  /*8x*/  '?', '?', ',', 'f', '?', '?', '?', '?', '^', '?', 'S', '<', '?', '?', '?', '?', -/*9x*/  '?', '?', '?', '?', '?', '*', '-', '-', '~', '?', 's', '>', '?', '?', '?', 'Y', +/*9x*/  '?', '`', '\\'', '\"', '\"', '*', '-', '-', '~', '?', 's', '>', '?', '?', '?', 'Y',  /*Ax*/ 0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,  /*Bx*/ 0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF,  /*Cx*/ 0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,   For those of you like myself annoyed by this bug in the commercial Netscape version, here's a quick fix:  adb -w netscape cp1252_to_iso8859_1+0x11?W 0x22222760 ^d  This is correct for little-endian architectures.","id":1181,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Tue Sep 29 19:50:59 EEST 1998","creator":"ftang@formerly-netscape.com.tld","author":"ftang@formerly-netscape.com.tld","time":"Tue Sep 29 19:50:59 EEST 1998","text":"reassigned this to erik. The patch does not work since it will break JavaScript string litera which force to terminate eariler than it should. We have to move the fallback to the XFE. But we need to keep those character value.....","id":1182,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Fri Jan 29 22:10:59 EET 1999","creator":"ftang@formerly-netscape.com.tld","author":"ftang@formerly-netscape.com.tld","time":"Fri Jan 29 22:10:59 EET 1999","text":"We won't take the same approach but we need to put code in the X rendering engine to rneder those unicode code point which correspoding in 0x80-0x9F of cp1252. Change the Summary to - 0x80-0x9F in cp1252 does not display correctly on Mac and UNIX","id":1183,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Fri Feb 05 22:14:59 EET 1999","creator":"ftang@formerly-netscape.com.tld","author":"ftang@formerly-netscape.com.tld","time":"Fri Feb 05 22:14:59 EET 1999","text":"Mac and Window is now working on apprunner and viewer. I don't think UNIX is working. IQA, could you verify. We need to fix GTK GFX ...","id":1184,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Wed Mar 03 01:14:59 EET 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Wed Mar 03 01:14:59 EET 1999","text":"I18n component in Bugzilla being retired.  Moving these bugs to Internationalization component.","id":1185,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Wed Mar 17 05:36:59 EET 1999","creator":"ftang@formerly-netscape.com.tld","author":"ftang@formerly-netscape.com.tld","time":"Wed Mar 17 05:36:59 EET 1999","text":"Change summary from \"0x80-0x9F in cp1252 does not display correctly on Mac and UNIX\" to 0x80-0x9F in cp1252 does not display correctly on UNIX\". I believe Mac is now working. IQA, please verify Mac. If Mac is not working, please open a seperate bug. One bug for two platform is difficult to track. Thanks.","id":1186,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Wed Mar 17 05:37:59 EET 1999","creator":"ftang@formerly-netscape.com.tld","author":"ftang@formerly-netscape.com.tld","time":"Wed Mar 17 05:37:59 EET 1999","text":"reassign the UNIX rendering bug to erik and mark the target fix as M5.","id":1187,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Sat Jun 12 17:00:59 EEST 1999","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Sat Jun 12 17:00:59 EEST 1999","text":"*** Bug 7880 has been marked as a duplicate of this bug. ***","id":1188,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Thu Sep 02 06:25:59 EEST 1999","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Thu Sep 02 06:25:59 EEST 1999","text":"*** Bug 5383 has been marked as a duplicate of this bug. ***","id":1189,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Fri Oct 29 19:40:59 EEST 1999","creator":"ben.bucksch@beonex.com","author":"ben.bucksch@beonex.com","time":"Fri Oct 29 19:40:59 EEST 1999","text":"Added bug 16507 as dependant on this.","id":1190,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Fri Oct 29 20:07:59 EEST 1999","creator":"dbaron@dbaron.org","author":"dbaron@dbaron.org","time":"Fri Oct 29 20:07:59 EEST 1999","text":"Has this been tested on a font server configured to serve fonts as windows-1252 or in utf-16 or something where they are accessible through the proper unicode codepoints?  Probably as many of these characters as possible should be displayed using things like ' and \" and -- if the correct glyphs aren't available rather than displaying a character-not-displayed character.","id":1191,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Fri Oct 29 20:25:59 EEST 1999","creator":"akkzilla@shallowsky.com","author":"akkzilla@shallowsky.com","time":"Fri Oct 29 20:25:59 EEST 1999","text":"Agreed -- displaying nothing at all (the current behavior) is even worse than the 4.x behavior of showing the entity, since it means you don't see that you're missing characters.  Showing something vaguely close to the right character would be a lot better than showing nothing.","id":1192,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Thu Nov 04 21:22:59 EET 1999","creator":"ben.bucksch@beonex.com","author":"ben.bucksch@beonex.com","time":"Thu Nov 04 21:22:59 EET 1999","text":"I found, what I was looking for: <URL:http://charts.unicode.org/Unicode.charts/normal/Unicode.html>","id":1193,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Tue Jan 25 00:31:00 EET 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Tue Jan 25 00:31:00 EET 2000","text":"Moving all of my M15s to M16. Please add comments if you disagree.","id":171858,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Sun Feb 13 03:10:05 EET 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Sun Feb 13 03:10:05 EET 2000","text":"Subject: Quotes problem Date: Fri, 11 Feb 2000 12:52:38 +0000 From: Markus Kuhn <Markus.Kuhn@cl.cam.ac.uk>  Erik,  Could you check out, whether the following small character conversion table fix could be made on the Netscape Web browser:  As you can see on the test page    http://www.cl.cam.ac.uk/~mgk25/ucs/CP1252.html  My Netscape Navigator 4.6 for Linux maps &#8216; (LEFT SINGLE QUOTATION MARK &#x2018;) to 0x60 (GRAVE ACCENT). While this does look good in the current X11 Adobe fonts which follow the old Adobe standard encoding for ASCII and have on 0x27 \"quoteright\" and on 0x60 \"quoteleft\", the new X11 fonts will follow the modern Adobe Unicode mapping <http://partners.adobe.com/asn/developer/typeforum/unicodegn.html> and have accordingly instead on 0x27 \"quotesingle\" and on 0x60 \"grave\" (because Unicode fonts have on U+2018 \"quoteleft\" and on U+2019 \"quoteright\".)  In other words: The ASCII text 'quote' will look acceptable with both old and new fonts but `quote' will look slightly ugly with the new fonts (this has been the case for a long time on MS-Windows already). The advantage of the new fonts is that you will now find the proper directional quotation marks on 0x2018 and 0x2019 such that you can show all forms of the quotation marks accurately.  Therefore my urgent suggestion: Whenever you do a Unicode -> Latin-1 mapping, then please map both U+2018 and U+2019 to 0x27 and do NOT map U+2018 to 0x60.  For details and background information on this issue, please read    http://www.cl.cam.ac.uk/~mgk25/ucs/quotes.html  Sorry if you have fixed all this already long ago in Mozilla.  Markus  --  Markus G. Kuhn, Computer Laboratory, University of Cambridge, UK Email: mkuhn at acm.org,  WWW: <http://www.cl.cam.ac.uk/~mgk25/>","id":194146,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Wed Feb 16 13:40:34 EET 2000","creator":"ben.bucksch@beonex.com","author":"ben.bucksch@beonex.com","time":"Wed Feb 16 13:40:34 EET 2000","text":"&#8220; and &#8221; are lost completely.  They are generated by SGML-tools for the DocBook tag \"quote\".","id":198874,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Fri Mar 10 05:26:36 EET 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Fri Mar 10 05:26:36 EET 2000","text":"We should address bug 31252 first, to get some basic fallback in place, and then address this bug, so I'm targetting M17.","id":226673,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Fri Mar 10 06:15:12 EET 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Fri Mar 10 06:15:12 EET 2000","text":"*** Bug 16872 has been marked as a duplicate of this bug. ***","id":226711,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Fri Mar 10 06:49:38 EET 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Fri Mar 10 06:49:38 EET 2000","text":"*** Bug 24924 has been marked as a duplicate of this bug. ***","id":226735,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Sat Mar 11 20:35:45 EET 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Sat Mar 11 20:35:45 EET 2000","text":"I am working on this right now.","id":228127,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Sun Mar 12 01:32:49 EET 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Sun Mar 12 01:32:49 EET 2000","text":"It's done. I would like a code review. Anybody?","id":228247,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Sun Mar 12 01:40:32 EET 2000","creator":"ben.bucksch@beonex.com","author":"ben.bucksch@beonex.com","time":"Sun Mar 12 01:40:32 EET 2000","text":"erik, if you attach the patch, I *may* take a look at it (no promises at all).","id":228254,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Sun Mar 12 07:35:00 EET 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Sun Mar 12 07:35:00 EET 2000","text":"Hi Pav, I'm about to attach the diffs to get \"smart quotes\", trademark, ellipsis, and all those other windows-1252 characters to display on ordinary Unix systems via fallbacks. If you're OK with these, I'd like to check in.","id":228371,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Sun Mar 12 07:36:58 EET 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","attachment_id":6450,"time":"Sun Mar 12 07:36:58 EET 2000","text":"Created attachment 6450 diffs (nsRenderingContextGTK has some indenting fixes)","id":228372,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Sun Mar 12 19:15:16 EET 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Sun Mar 12 19:15:16 EET 2000","text":"Roger, I have written the code to do fallbacks for windows-1252 characters (e.g. ellipsis -> ...) and '?' for others on Unix. The fix is attached to this bug. It is quite similar to the code you wrote recently for Windows (thanks). Would you be willing to review it for me so that I can check in?","id":228476,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Sun Mar 12 23:01:28 EET 2000","creator":"rbs@maths.uq.edu.au","author":"rbs@maths.uq.edu.au","time":"Sun Mar 12 23:01:28 EET 2000","text":"OK, I have read the diff. The following +       nsFontGTK* font = FindFont('a'); should be based on the actual REPLACEMENT_CHAR, i.e., FindFont('?'). This way, if someone has, e.g., font-family: Symbol, the search will still return straight away because Symbol has '?'. Other than that, the patch looks fine. ","id":228539,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Sun Mar 12 23:16:00 EET 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Sun Mar 12 23:16:00 EET 2000","text":"I decided to use 'a' instead of '?' as the argument to FindFont because the replacements are strings such as \"EUR\" (for euro), \"OE\" (for OE ligature), \"...\" (for ellipsis), and so on. So we need to pass something that is likely to return a font that has all of those characters.  On Unix, there are several fonts that do not even contain 'a'. For example, all the East Asian fonts (Japanese, Chinese, Korean). Also, Symbol does not contain all of the upper-case and lower-case letters A-Z and a-z.  Ideally, nsFontGTKSubstitute would actually do some font switching of its own in GetWidth and DrawString, but since all of the current replacement chars (e.g. \"EUR\") are from ASCII, and since all fonts that contain 'a' also contain the rest of the ASCII characters, I think FindFont('a') is the best first step we can take in this development. Maybe we'll do actual font switching later.  Thanks for the review, Roger! Checked in; marking FIXED.","id":228540,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Thu Apr 13 22:38:51 EEST 2000","creator":"teruko@formerly-netscape.com.tld","author":"teruko@formerly-netscape.com.tld","time":"Thu Apr 13 22:38:51 EEST 2000","text":"I verified this in 2000041307 Mac and 2000041310 Linux build.","id":262931,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Thu Aug 10 14:49:10 EEST 2000","creator":"jms@email.de","author":"jms@email.de","time":"Thu Aug 10 14:49:10 EEST 2000","text":"Problem still exists on OS/2 See http://www.heise.de/newsticker/data/jk-10.08.00-004/ ","id":388881,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Wed Aug 16 15:44:22 EEST 2000","creator":"bratell@lysator.liu.se","author":"bratell@lysator.liu.se","time":"Wed Aug 16 15:44:22 EEST 2000","text":"Setting platform to OS/2 and clearing status whiteboard.","id":396118,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Wed Aug 30 19:21:57 EEST 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Wed Aug 30 19:21:57 EEST 2000","text":"Daniel, please create a separate bug for OS/2. This bug is specifically for Unix. Marking FIXED again.","id":412975,"bug_id":454,"tags":[]},{"is_private":false,"creation_time":"Wed Aug 30 19:22:54 EEST 2000","creator":"erik@vanderpoel.org","author":"erik@vanderpoel.org","time":"Wed Aug 30 19:22:54 EEST 2000","text":"Verifying, based on Teruko's comment.","id":412976,"bug_id":454,"tags":[]}]}
