{"bugs":[{"creation_time":"Thu Aug 27 10:15:10 EEST 1998","keywords":[],"is_cc_accessible":true,"flags":[],"whiteboard":"","see_also":[],"resolution":"FIXED","platform":"SGI","cf_fx_points":"---","cf_fx_iteration":"---","id":535,"assigned_to":"toshok@formerly-netscape.com.tld","cc":["rkl@csc.liv.ac.uk"],"summary":"Can't do a MOZ_LITE build","severity":"major","creator":"rkl@csc.liv.ac.uk","product":"MozillaClassic","depends_on":[],"is_open":false,"blocks":[],"is_confirmed":true,"cf_qa_whiteboard":"","groups":[],"assigned_to_detail":{"name":"toshok@formerly-netscape.com.tld","real_name":"","id":1673,"email":"toshok@formerly-netscape.com.tld"},"creator_detail":{"name":"rkl@csc.liv.ac.uk","real_name":"","id":3791,"email":"rkl@csc.liv.ac.uk"},"priority":"P2","classification":"Graveyard","cf_last_resolved":"Tue Oct 06 20:19:16 EEST 1998","version":"1998-07-28","url":"http://hpux.csc.liv.ac.uk/hppd/mozilla/","qa_contact":"","op_sys":"HP-UX","last_change_time":"Wed Apr 21 18:23:14 EEST 1999","target_milestone":"---","component":"Layout","is_creator_accessible":true,"cc_detail":[{"name":"rkl@csc.liv.ac.uk","real_name":"","id":3791,"email":"rkl@csc.liv.ac.uk"}],"mentors":[],"mentors_detail":[],"cf_user_story":"","status":"VERIFIED"}],"comments":[{"is_private":false,"creation_time":"Thu Aug 27 10:15:10 EEST 1998","creator":"rkl@csc.liv.ac.uk","author":"rkl@csc.liv.ac.uk","time":"Thu Aug 27 10:15:10 EEST 1998","text":"It's not possible to do a MOZ_LITE build from the original 28th July 1998 Mozilla tarball. Yes, I know the recommended default is to do a MOZ_MEDIUM build, but some of us don't want Composer eating RAM thank you :-)  I managed to do a MOZ_LITE build on HP-UX by changing lib/layout/Makefile by moving the following CSRCS source files outside of the ifdef EDITOR section and into the main section:  layfree.c, layimage.c, layout.c, laysel.c, laytable.c, laytags.c, laytext.c, layutil.c  (in other words, the only thing left in the CSRCS += line inside ifdef EDITOR was layedit.c and $(NULL))  The other change I had to make was to cmd/xfe/src/FindDialog.cpp. None of the EDT_* functions should be called when doing a MOZ_LITE build. Unfortunately, fe_replace_db() calls EDT_ReplaceText(), so #ifdef EDITOR was put around the whole fe_replace_db() function. This, of course, meant that #ifdef EDITOR was needed around the code that called this function too. Line 498 onwards of FindDialog.cpp now reads:  #ifdef EDITOR   if (replaceP)   { ... down to line 550: ...   else  // not replaceP #endif   {       XtVaSetValues (find_text, ...  One final note - is it wise to use the environmental variable EDITOR in the various Mozilla Makefiles to determine if Composer is built ? EDITOR is a standard UNIX env. var. to indicate your default text editor and is often defined in a user's environment ! It means that you have to remember to unset EDITOR prior to any MOZ_LITE build...ho hum...  Note that I've fixed this (and other problems under HP-UX) via a patch available here: http://hpux.csc.liv.ac.uk/hppd/mozilla/mozpatch-5.00.tar.gz (this contains a file mozilla.patch, which is the context diffs for all HP-UX problems to date - documentation on the changes in the patch are in the HPUX.Install file)","id":1516,"bug_id":535,"tags":[]},{"is_private":false,"creation_time":"Fri Aug 28 00:21:59 EEST 1998","creator":"briano@bluemartini.com","author":"briano@bluemartini.com","time":"Fri Aug 28 00:21:59 EEST 1998","text":"*** Bug 515 has been marked as a duplicate of this bug. ***","id":1517,"bug_id":535,"tags":[]},{"is_private":false,"creation_time":"Sat Sep 05 01:24:59 EEST 1998","creator":"briano@bluemartini.com","author":"briano@bluemartini.com","time":"Sat Sep 05 01:24:59 EEST 1998","text":"I've added support for MOZ_EDITOR in mozilla/config/config.mk, so the Makefile(s) currently using \"ifdef EDITOR\" should switch to \"ifdef MOZ_EDITOR\".  The rest of this bug seems to be layout specific, so I'm reassigning it to the layout owner.","id":1518,"bug_id":535,"tags":[]},{"is_private":false,"creation_time":"Tue Oct 06 20:19:59 EEST 1998","creator":"cls@seawood.org","author":"cls@seawood.org","time":"Tue Oct 06 20:19:59 EEST 1998","text":"The problems with EDITOR have been resolved.","id":1519,"bug_id":535,"tags":[]},{"is_private":false,"creation_time":"Fri Feb 05 16:35:59 EET 1999","creator":"glynn@formerly-netscape.com.tld","author":"glynn@formerly-netscape.com.tld","time":"Fri Feb 05 16:35:59 EET 1999","text":"marking verified against old code base","id":1520,"bug_id":535,"tags":[]}]}
