{"bugs":[{"creation_time":"Wed Sep 30 22:44:58 EEST 1998","keywords":[],"cf_status_seamonkey234":"---","cf_status_seamonkey232":"---","cf_status_seamonkey233":"---","see_also":[],"resolution":"WONTFIX","cf_blocking_fx":"---","cf_fx_iteration":"---","cf_status_b2g_1_4":"---","id":951,"cf_tracking_seamonkey232":"---","cf_tracking_seamonkey231":"---","cf_tracking_seamonkey230":"---","is_open":false,"cf_tracking_seamonkey234":"---","cf_tracking_seamonkey233":"---","cf_qa_whiteboard":"","assigned_to_detail":{"name":"mozilla@rjcdb.com","real_name":"Robert John Churchill","id":2531,"email":"mozilla@rjcdb.com"},"creator_detail":{"name":"bryce@neptune.net","real_name":"Bryce Harrington","id":3630,"email":"bryce@neptune.net"},"cf_status_firefox37":"---","priority":"P3","cf_status_firefox36":"---","classification":"Client Software","cf_status_firefox35":"---","version":"Trunk","cf_status_firefox34":"---","op_sys":"Windows NT","last_change_time":"Tue Nov 23 01:25:08 EET 2004","cf_crash_signature":"","mentors_detail":[],"cf_tracking_b2g":"---","cf_status_b2g_2_0m":"---","status":"VERIFIED","is_cc_accessible":true,"cf_tracking_firefox37":"---","cf_tracking_firefox36":"---","cf_tracking_relnote_b2g":"---","flags":[],"cf_status_firefox_esr31":"---","whiteboard":"","platform":"x86","cf_tracking_firefox_esr31":"---","cf_fx_points":"---","cf_tracking_firefox35":"---","cf_tracking_firefox34":"---","cf_status_b2g_2_2":"---","cf_status_b2g_2_1":"---","cf_status_b2g_2_0":"---","assigned_to":"mozilla@rjcdb.com","summary":"ASSERT while freeing memory in HT_DeleteCursor","cc":["bryce@neptune.net"],"severity":"normal","creator":"bryce@neptune.net","product":"SeaMonkey","depends_on":[],"cf_tracking_firefox_relnote":"---","blocks":[],"is_confirmed":true,"groups":[],"cf_last_resolved":"Mon Feb 15 19:46:37 EET 1999","url":"","qa_contact":"","target_milestone":"M4","component":"General","is_creator_accessible":true,"cc_detail":[{"name":"bryce@neptune.net","real_name":"Bryce Harrington","id":3630,"email":"bryce@neptune.net"}],"mentors":[],"cf_status_seamonkey230":"---","cf_user_story":"","cf_status_seamonkey231":"---"}],"comments":[{"is_private":false,"creation_time":"Wed Sep 30 22:44:58 EEST 1998","creator":"bryce@neptune.net","author":"bryce@neptune.net","time":"Wed Sep 30 22:44:58 EEST 1998","text":"My system was swapping pretty heavily because I was cutting and pasting large images between applications (a 23MB image in a word document). Had a bunch of software loaded, too.  While waiting for swapping to finish, I switched over to Mozilla to read slashdot.  Mozilla started having trouble.  Debug messages: --------------- Created rdf:ht5 Remembering document position at element id 72 www.netlib.org error=0 h_name=1 task=18 Remembering document position at element id 35 Updating location bar for named anchor banner.surfree.com error=0 h_name=1 task=19 memory check error at 0x00D30D44 = 0x70, should be 0xFD. memory check error at 0x00D30D45 = 0x0D, should be 0xFD. memory check error at 0x00D30D46 = 0xD3, should be 0xFD. memory check error at 0x00D30D47 = 0x00, should be 0xFD.   Call stack: ----------- 1.  _free_dbg_lk(void * 0x00d30d90, int 0x00000001) line 1033 + 63 bytes 2.  _free_dbg(void * 0x00d30d90, int 0x00000001) line 970 + 13 bytes 3.  free(void * 0x00d30d90) line 926 + 11 bytes 4.  PR_Free(void * 0x00d30d90) line 66 + 10 bytes 5.  HT_DeleteCursor(_HT_CursorStruct * 0x00d30d90) line 3251 + 9 bytes 6.  CRDFToolbar::WidthChanged(int 0x00000024) line 2130 + 9 bytes 7.  CDragToolbar::ArrangeToolbar(int 0xffffffdc, int 0x0000002e) line 725 8.  CDragToolbar::OnSize(unsigned int 0x00000000, int 0x00000000, int 0x0000002e) line 432 9.  CWnd::OnWndMsg(unsigned int 0x00000005, unsigned int 0x00000000, long 0x002e0000, long * 0x0012e160) line 1763   Cause: ------ This appears to be a bug in Microsoft code, since the last four function calls were inside Windows/MFC.  The place in the Mozilla code where this bug would need to be isolated is in ht.c, line 3244:  PR_PUBLIC_API(HT_Error) HT_DeleteCursor (HT_Cursor cursor) {  XP_ASSERT(cursor != NULL);   if (cursor != NULL)  { /* >> */ freeMem(cursor);  }  return(HT_NoErr); }  Here is the code at the tail end, where the stoppage occurred:  Line 1035 of msdev/crt/src/dbgheap.c...          /* if we didn't already check entire heap, at least check this object */         if (!(_crtDbgFlag & _CRTDBG_CHECK_ALWAYS_DF))         {             /* check no-mans-land gaps */             if (!CheckBytes(pHead->gap, _bNoMansLandFill, nNoMansLandSize))                 _RPT3(_CRT_ERROR, \"DAMAGE: before %hs block (#%d) at 0x%08X.\\n\",                     szBlockUseName[_BLOCK_TYPE(pHead->nBlockUse)],                     pHead->lRequest,                     (BYTE *) pbData(pHead));  /* >> */    if (!CheckBytes(pbData(pHead) + pHead->nDataSize, _bNoMansLandFill, nNoMansLandSize))                 _RPT3(_CRT_ERROR, \"DAMAGE: after %hs block (#%d) at 0x%08X.\\n\",                     szBlockUseName[_BLOCK_TYPE(pHead->nBlockUse)],                     pHead->lRequest,                     (BYTE *) pbData(pHead));         }   I don't know what CheckBytes does, but apparently it didn't pass the second call. Here's the values of the variables for this call:  pHead = 0x00d30d70 pHead->nDataSize = 0xffffffb4 _bNoMansLandFill = 0xfd nNoMansLandFill = ??  Couldn't tell.   Is it possible that another application (Word, perhaps) tinkered with Mozilla's memory?   System: ------- I'm running WinNT4.0 SR3, on a 166MHz Dell Pentium with 64MB RAM and 200MB swap.  In addition to WinNT processes and mozilla, I am running cdplayer.exe, MSACCESS, TASKMGR, MSDEV, CRT, and a notepad-like editor.","id":3896,"bug_id":951,"tags":[]},{"is_private":false,"creation_time":"Thu Oct 08 23:41:59 EEST 1998","creator":"blythe@formerly-netscape.com.tld","author":"blythe@formerly-netscape.com.tld","time":"Thu Oct 08 23:41:59 EEST 1998","text":"Handing over to HT people.","id":3897,"bug_id":951,"tags":[]},{"is_private":false,"creation_time":"Wed Feb 03 16:08:59 EET 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Wed Feb 03 16:08:59 EET 1999","text":"Setting all current Open/Normal to M4.","id":3898,"bug_id":951,"tags":[]},{"is_private":false,"creation_time":"Mon Feb 15 19:46:59 EET 1999","creator":"mozilla@rjcdb.com","author":"mozilla@rjcdb.com","time":"Mon Feb 15 19:46:59 EET 1999","text":"Old code base, not applicable in new code base. Marking as WONTFIX.","id":3899,"bug_id":951,"tags":[]},{"is_private":false,"creation_time":"Fri Feb 26 23:42:59 EET 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Fri Feb 26 23:42:59 EET 1999","text":"Old bug...go get the latest mozilla source code!  www.mozilla.org  Marking Verified/Won't Fix","id":3900,"bug_id":951,"tags":[]}]}
