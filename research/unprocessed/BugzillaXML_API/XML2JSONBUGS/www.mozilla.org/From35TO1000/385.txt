{"bugs":[{"creation_time":"Wed May 20 18:05:03 EEST 1998","keywords":[],"is_cc_accessible":true,"flags":[],"whiteboard":"","see_also":[],"resolution":"FIXED","platform":"Sun","cf_fx_points":"---","cf_fx_iteration":"---","id":385,"assigned_to":"slamm@formerly-netscape.com.tld","cc":[],"summary":"GH_InitGlobalHistory called too soon","severity":"normal","creator":"waider@waider.ie","product":"MozillaClassic","depends_on":[],"is_open":false,"blocks":[],"is_confirmed":true,"cf_qa_whiteboard":"","groups":[],"assigned_to_detail":{"name":"slamm@formerly-netscape.com.tld","real_name":"Steve Lamm","id":2410,"email":"slamm@formerly-netscape.com.tld"},"creator_detail":{"name":"waider@waider.ie","real_name":"Ronan Waide","id":219,"email":"waider@waider.ie"},"priority":"P3","classification":"Graveyard","cf_last_resolved":"Tue Dec 26 00:24:04 EET 2000","version":"1998-04-29","url":"","qa_contact":"","op_sys":"Solaris","last_change_time":"Mon Jan 13 01:42:35 EET 2003","target_milestone":"---","component":"XFE","is_creator_accessible":true,"cc_detail":[],"mentors":[],"mentors_detail":[],"cf_user_story":"","status":"VERIFIED"}],"comments":[{"is_private":false,"creation_time":"Wed May 20 18:05:03 EEST 1998","creator":"waider@waider.ie","author":"waider@waider.ie","time":"Wed May 20 18:05:03 EEST 1998","text":"Created by Ronan Waide (waider@waider.ie) on Wednesday, May 20, 1998 4:05:03 AM PDT Additional Details : GH_InitGlobalHistory is called before FE_GlobalHist is set from the preferences file, meaning that gh_open_database doesn't have a filename to work with. Here's a patch to main()/mozilla-main() to fix this:  Index: cmd/xfe/mozilla.c =================================================================== RCS file: /cvsroot/mozilla/cmd/xfe/mozilla.c,v retrieving revision 3.5 diff -c -r3.5 mozilla.c *** mozilla.c   1998/05/14 09:18:26     3.5 --- mozilla.c   1998/05/20 11:02:04 *************** *** 2799,2812 ****     PREF_SetDefaultCharPref(\"profile.directory\", fe_config_dir);     PREF_SetDefaultIntPref(\"profile.numprofiles\", 1);  -   GH_InitGlobalHistory(); -     /* SECNAV_INIT needs this defined, but build_user_agent_string cannot      * be called until after SECNAV_INIT, so call this simplified version.      */     build_simple_user_agent_string(versionLocale);      fe_InstallPreferences (0);      /*     ** Initialize the security library. --- 2799,2812 ----     PREF_SetDefaultCharPref(\"profile.directory\", fe_config_dir);     PREF_SetDefaultIntPref(\"profile.numprofiles\", 1);      /* SECNAV_INIT needs this defined, but build_user_agent_string cannot      * be called until after SECNAV_INIT, so call this simplified version.      */     build_simple_user_agent_string(versionLocale);      fe_InstallPreferences (0); + +   GH_InitGlobalHistory();      /*     ** Initialize the security library. Updated by Steve Lamm (slamm@netscape.com) on Wednesday, May 20, 1998 6:43:36 PM PDT Additional Details : The patch looks good. I checked it in. Updated by Steve Lamm (slamm@netscape.com) on Wednesday, May 20, 1998 6:44:18 PM PDT Additional Details : Marking resolved.","id":963,"bug_id":385,"tags":[]},{"is_private":false,"creation_time":"Tue Dec 26 00:23:45 EET 2000","creator":"bugzilla@mversen.de","author":"bugzilla@mversen.de","time":"Tue Dec 26 00:23:45 EET 2000","text":"mid-air collision ? / bugzilla cleanup Reopening (current State: resolved and no resolution) ","id":544788,"bug_id":385,"tags":[]},{"is_private":false,"creation_time":"Tue Dec 26 00:24:04 EET 2000","creator":"bugzilla@mversen.de","author":"bugzilla@mversen.de","time":"Tue Dec 26 00:24:04 EET 2000","text":"marking fixed","id":544789,"bug_id":385,"tags":[]},{"is_private":false,"creation_time":"Mon Jan 13 01:42:35 EET 2003","creator":"brant@gurganus.name","author":"brant@gurganus.name","time":"Mon Jan 13 01:42:35 EET 2003","text":"VERIFIED due to no changes in over a year","id":1707261,"bug_id":385,"tags":[]}]}
