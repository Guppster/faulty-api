{"bugs":[{"creation_time":"Sat Apr 11 03:16:31 EEST 1998","keywords":[],"see_also":[],"resolution":"FIXED","cf_blocking_fx":"---","cf_fx_iteration":"---","cf_blocking_b2g":"---","cf_status_b2g_1_4":"---","id":139,"is_open":false,"cf_qa_whiteboard":"","assigned_to_detail":{"name":"wtc@google.com","real_name":"Wan-Teh Chang","id":1584,"email":"wtc@google.com"},"creator_detail":{"name":"jason@ackley.net","real_name":"Jason Ackley","id":1275,"email":"jason@ackley.net"},"cf_status_firefox37":"---","priority":"P1","cf_status_firefox36":"---","classification":"Components","cf_status_firefox35":"---","version":"other","cf_status_firefox34":"---","op_sys":"All","last_change_time":"Mon Jan 13 00:28:36 EET 2003","cf_crash_signature":"","mentors_detail":[],"cf_tracking_b2g":"---","cf_status_b2g_2_0m":"---","status":"VERIFIED","is_cc_accessible":true,"cf_tracking_firefox37":"---","cf_tracking_firefox36":"---","cf_tracking_relnote_b2g":"---","flags":[],"cf_status_firefox_esr31":"---","whiteboard":"","platform":"All","cf_tracking_firefox_esr31":"---","cf_blocking_fennec":"---","cf_fx_points":"---","cf_tracking_firefox35":"---","cf_tracking_firefox34":"---","cf_status_b2g_2_2":"---","cf_status_b2g_2_1":"---","cf_status_b2g_2_0":"---","assigned_to":"wtc@google.com","summary":"nsrpub/pr/src/md/unix.c error for BSD/OS 3.1","cf_tracking_e10s":"---","cc":[],"severity":"trivial","creator":"jason@ackley.net","product":"NSPR","depends_on":[],"cf_tracking_firefox_relnote":"---","blocks":[],"is_confirmed":true,"groups":[],"cf_last_resolved":"Sat Jan 06 06:01:17 EET 2001","url":"","qa_contact":"","target_milestone":"---","component":"NSPR","is_creator_accessible":true,"cc_detail":[],"mentors":[],"cf_user_story":""}],"comments":[{"is_private":false,"creation_time":"Sat Apr 11 03:16:31 EEST 1998","creator":"jason@ackley.net","author":"jason@ackley.net","time":"Sat Apr 11 03:16:31 EEST 1998","text":"Created by   (jason@ackley.net) on Friday, April 10, 1998 1:16:31 PM PDT Additional Details : In case it has not been reported:  Line 2319 of unix.c has a if defined(FREEBSD) to set osflags to O_SYNC or O_FSYNC, it should include BSDI (at least 3.1, I have not tested on other revs)  To fix:  in unix.c , I added under some of the #include''s  #if defined(BSDI) #include <sys/param.h> /* For _BSDI_VERSION */ #endif  Then at the if defined(FREEBSD), I changed it to  #if defined(FREEBSD) || defined(BSDI) && _BSDI_VERSION >= \\ 199701  etc etc Updated by Wan-Teh Chang (wtc@netscape.com) on Wednesday, April 22, 1998 12:52:59 PM PDT Additional Details : Assigned the bug to myself.  We already fixed this problem in our internal development version. Our fix is similar to yours, except that we do not check the BSDI version, i.e., we just say     #if defined(FREEBSD) || defined(BSDI)     etc etc  Perhaps we should make it more OS-independent, like this:     #if defined(O_SYNC)         osflags |= O_SYNC;     #elif defined(O_FSYNC)         osflags |= O_FSYNC;     #else     #error \"Neither O_SYNC nor O_FSYNC is defined\"     #endif  I will test this fix.  Thanks for reporting the problem. Updated by   (jason@ackley.net) on Wednesday, April 22, 1998 10:19:41 PM PDT Additional Details : I was able to locate my BSDi 2.0 CD, and check its /usr/include/sys//fcntl.h against the current 3.1 fcntl.h, only differences are BSDi RCS versions, so it should be OK not to check the version number for it. Updated by Wan-Teh Chang (wtc@netscape.com) on Friday, April 24, 1998 12:31:04 PM PDT Additional Details : Thanks for checking BSDi 2.0 for me.  I checked in the fix that conditionalizes on the O_SYNC/O_FSYNC macros instead of the platform macros like FREEBSD/BSDI.  I tested the fix on BSDi 2.0 and 3.0.  The fix is in ns/nsprpub/pr/src/md/unix/unix.c, revision 3.4.  Marked the bug closed.","id":237,"bug_id":139,"tags":[]},{"is_private":false,"creation_time":"Tue Apr 27 17:59:59 EEST 1999","creator":"terry@mozilla.org","author":"terry@mozilla.org","time":"Tue Apr 27 17:59:59 EEST 1999","text":"NSPR now has its own Bugzilla product.  Moving this bug to the NSPR product.","id":238,"bug_id":139,"tags":[]},{"is_private":false,"creation_time":"Sat Jan 06 05:59:43 EET 2001","creator":"jruderman@gmail.com","author":"jruderman@gmail.com","time":"Sat Jan 06 05:59:43 EET 2001","text":"these bugs are closed but have no resolution.  reopening...","id":553935,"bug_id":139,"tags":[]},{"is_private":false,"creation_time":"Sat Jan 06 06:01:17 EET 2001","creator":"jruderman@gmail.com","author":"jruderman@gmail.com","time":"Sat Jan 06 06:01:17 EET 2001","text":"marking as fixed.","id":553954,"bug_id":139,"tags":[]},{"is_private":false,"creation_time":"Mon Jan 13 00:28:36 EET 2003","creator":"brant@gurganus.name","author":"brant@gurganus.name","time":"Mon Jan 13 00:28:36 EET 2003","text":"VERIFIED per no comments in over a year.","id":1707191,"bug_id":139,"tags":[]}]}
