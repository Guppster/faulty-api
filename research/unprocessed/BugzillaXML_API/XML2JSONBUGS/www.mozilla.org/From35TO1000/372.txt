{"bugs":[{"creation_time":"Tue May 19 09:02:54 EEST 1998","keywords":[],"is_cc_accessible":true,"flags":[],"whiteboard":"","see_also":[],"resolution":"WONTFIX","platform":"x86","cf_fx_points":"---","cf_fx_iteration":"---","id":372,"assigned_to":"aoki@aol.net","cc":[],"summary":"user pref callback not called while processing user.js","severity":"normal","creator":"pchek@ziplink.net","product":"MozillaClassic","depends_on":[],"is_open":false,"blocks":[],"is_confirmed":true,"cf_qa_whiteboard":"","groups":[],"assigned_to_detail":{"name":"aoki@aol.net","real_name":"Edwin Aoki","id":1688,"email":"aoki@aol.net"},"creator_detail":{"name":"pchek@ziplink.net","real_name":"Paul Chek","id":1189,"email":"pchek@ziplink.net"},"priority":"P3","classification":"Graveyard","cf_last_resolved":"Sun Sep 06 20:49:55 EEST 1998","version":"1998-03-31","url":"","qa_contact":"","op_sys":"Windows 95","last_change_time":"Wed Apr 21 18:23:13 EEST 1999","target_milestone":"---","component":"Preferences","is_creator_accessible":true,"cc_detail":[],"mentors":[],"mentors_detail":[],"cf_user_story":"","status":"VERIFIED"}],"comments":[{"is_private":false,"creation_time":"Tue May 19 09:02:54 EEST 1998","creator":"pchek@ziplink.net","author":"pchek@ziplink.net","time":"Tue May 19 09:02:54 EEST 1998","text":"Created by Paul Chek (pchek@ziplink.net) on Monday, May 18, 1998 7:02:54 PM PDT Additional Details : In NET_RegisterCookiePrefCallbacks when PREF_GetCharPref is called to get the name of the Java script      to use for filtering cookies \"network.cookie.filterName\" it returns NULL meaning it couldn\u2019t find the      preference. This is despite the fact that it is in prefs.js and liprefs.js was removed. When I looked into this I      found that when the user preference scripts are processed by pref_OpenFile it calls      PREF_EvaluateConfigScript with bCallbacks equal FALSE. This keeps NET_CookieBehaviorPrefChanged      and NET_CookieScriptPrefChanged from being called to record the changed user preference. If I change      bCallbacks to TRUE then the callback functions are called and preferences work as designed. The current      work around is to call PREF_GetIntPref instead of relying on the saved state of the preference, which is set      by the callback.","id":933,"bug_id":372,"tags":[]},{"is_private":false,"creation_time":"Sun Sep 06 20:49:59 EEST 1998","creator":"aoki@aol.net","author":"aoki@aol.net","time":"Sun Sep 06 20:49:59 EEST 1998","text":"We talked about this briefly at some point and determined we weren't going to make callbacks at startup due to performance considerations.  Very few pieces of code rely on callbacks before startup finishes, so we determined this was an acceptable compromise.  The correct fix is to improve the peformance of callback lookups, which we're looking at.","id":934,"bug_id":372,"tags":[]},{"is_private":false,"creation_time":"Fri Feb 26 23:12:59 EET 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Fri Feb 26 23:12:59 EET 1999","text":"whole new world in mozilla code...go get the latest...www.mozilla.org  Marking Verified/Won't Fix","id":935,"bug_id":372,"tags":[]}]}
