{"bugs":[{"creation_time":"Sun Aug 02 14:00:00 EEST 1998","keywords":["css1"],"see_also":[],"resolution":"FIXED","cf_blocking_fx":"---","cf_fx_iteration":"---","cf_blocking_b2g":"---","cf_status_b2g_1_4":"---","id":582,"is_open":false,"cf_qa_whiteboard":"","assigned_to_detail":{"name":"peterl-retired@formerly-netscape.com.tld","real_name":"Peter Linss","id":3826,"email":"peterl-retired@formerly-netscape.com.tld"},"creator_detail":{"name":"angus@formerly-netscape.com.tld","real_name":"Angus Davis","id":70,"email":"angus@formerly-netscape.com.tld"},"cf_status_firefox37":"---","priority":"P2","cf_status_firefox36":"---","classification":"Components","cf_status_firefox35":"---","version":"Trunk","cf_status_firefox34":"---","op_sys":"Windows 95","last_change_time":"Thu Jan 13 23:59:37 EET 2000","cf_crash_signature":"","mentors_detail":[],"cf_tracking_b2g":"---","qa_contact_detail":{"name":"christinehoff4@aol.com","real_name":"Christine Hoffman","id":4110,"email":"christinehoff4@aol.com"},"cf_status_b2g_2_0m":"---","status":"VERIFIED","cf_feature_b2g":"---","is_cc_accessible":true,"cf_tracking_firefox37":"---","cf_tracking_firefox36":"---","cf_tracking_relnote_b2g":"---","flags":[],"cf_status_firefox_esr31":"---","whiteboard":"","platform":"x86","cf_tracking_firefox_esr31":"---","cf_blocking_fennec":"---","cf_fx_points":"---","cf_tracking_firefox35":"---","cf_tracking_firefox34":"---","cf_status_b2g_2_2":"---","cf_status_b2g_2_1":"---","cf_status_b2g_2_0":"---","assigned_to":"peterl-retired@formerly-netscape.com.tld","summary":"{css1} Monospace font inside a serif div doesn't work","cf_tracking_e10s":"---","cc":["dbaron@dbaron.org","howcome@w3.org","ian@hixie.ch"],"severity":"normal","creator":"angus@formerly-netscape.com.tld","product":"Core","depends_on":[],"cf_tracking_firefox_relnote":"---","blocks":[],"is_confirmed":true,"groups":[],"cf_last_resolved":"Tue Jun 22 19:46:22 EEST 1999","url":"http://www.w3.org/Style/CSS/Test/current/sec522.htm","qa_contact":"christinehoff4@aol.com","target_milestone":"M10","component":"CSS Parsing and Computation","is_creator_accessible":true,"cc_detail":[{"name":"dbaron@dbaron.org","real_name":"David Baron [:dbaron] (UTC-5) (needinfo? for questions)","id":3881,"email":"dbaron@dbaron.org"},{"name":"howcome@w3.org","real_name":"","id":3907,"email":"howcome@w3.org"},{"name":"ian@hixie.ch","real_name":"Hixie (not reading bugmail)","id":4054,"email":"ian@hixie.ch"}],"mentors":[],"cf_user_story":""}],"comments":[{"is_private":false,"creation_time":"Sun Aug 02 14:00:00 EEST 1998","creator":"angus@formerly-netscape.com.tld","author":"angus@formerly-netscape.com.tld","time":"Sun Aug 02 14:00:00 EEST 1998","text":"Sample HTML:  <head> <style type=\"text/css\"> DIV.a {font-family: serif;} .five {font-family: monospace;} <\/style> <\/head> <body> <div class=\"a\"> I should be serif. <P class=\"five\"> I should be monospace. <\/P> <\/div> <\/body>  Note if you replace \"monospace\" with \"sans-serif,\" it works, so I think it has something to do with the monospace font in particular.","id":1768,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Tue Sep 08 01:04:59 EEST 1998","creator":"peterl-retired@formerly-netscape.com.tld","author":"peterl-retired@formerly-netscape.com.tld","time":"Tue Sep 08 01:04:59 EEST 1998","text":"This is semi-intentional behavior. Currently, monospace is a \"magic\" font name that means \"act like pre\". This was done for several reasons, so that we could specify \"pre\" behavior in CSS, and so that CSS \"monospace\" will track user fixed-pitch font choices and \"pre\" behavior... An explict setting of font-face always overrides the fixed-pitch (\"pre\") font. We can either accept this behavior, or extend CSS and change the \"magic fixed\" font to something like: \"fixed\".","id":1769,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Mon Sep 21 02:45:59 EEST 1998","creator":"angus@formerly-netscape.com.tld","author":"angus@formerly-netscape.com.tld","time":"Mon Sep 21 02:45:59 EEST 1998","text":"Adding Hakon to the CC list for his suggestions on this bug. Hakon - what are your thoughts?","id":1770,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Wed Sep 30 22:11:59 EEST 1998","creator":"howcome@w3.org","author":"howcome@w3.org","time":"Wed Sep 30 22:11:59 EEST 1998","text":"Why don't you just use CSS's way to encode PRE:    PRE { white-space: pre }   DIV.preformatted { white-space: pre }  This way, you can remove the magic of the \"monospace\" -- and conform to CSS!","id":1771,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Thu Oct 01 19:16:59 EEST 1998","creator":"peterl-retired@formerly-netscape.com.tld","author":"peterl-retired@formerly-netscape.com.tld","time":"Thu Oct 01 19:16:59 EEST 1998","text":"We do use the white-space property to specify the whitespace behavior of PRE. What is at issue here is the font face, not the whitespace behavior. A white-space value of \"pre\" does not change the font face, it merely preserves whitespace. The PRE HTML tag has the following specification in the ua.css stylesheet: PRE { white-space: pre; font-family: monospace; ... }  In HTML the following: <FONT face=\"times\"><PRE>pre text<\/PRE><\/FONT> will result in Times being used for the \"pre text\". An explicit setting of font face (via HTML or CSS) overrides the font used by contained elements that would otherwise get a monospace font. This is the behavior implemented by our \"monospace\" font family.","id":1772,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Fri Oct 09 19:06:59 EEST 1998","creator":"dbaron@dbaron.org","author":"dbaron@dbaron.org","time":"Fri Oct 09 19:06:59 EEST 1998","text":"This treatment of monospace has the additional effect that other fonts within a monospace DIV are chosen in weird ways.  In Windows, bitmapped fonts seem to be chosen over True-Type fonts (I think.)  See: http://www.w3.org/Style/CSS/Test/current/sec522.htm&#137;","id":1773,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Fri Oct 09 21:54:59 EEST 1998","creator":"peterl-retired@formerly-netscape.com.tld","author":"peterl-retired@formerly-netscape.com.tld","time":"Fri Oct 09 21:54:59 EEST 1998","text":"The only thing I see wrong with sec522.htm is that 'fantasy' is still mapped to Arial. Care to suggest a font to use instead?","id":1774,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Sun Nov 22 16:11:59 EET 1998","creator":"dbaron@dbaron.org","author":"dbaron@dbaron.org","time":"Sun Nov 22 16:11:59 EET 1998","text":"The \"magic\" of monospace has very weird effects.  I put an image of NGLayout's rendering of the above URL at http://www.fas.harvard.edu/~dbaron/tests/nglayout/monosp.gif .  Notice the following problems: 1) \"font-face: monospace, serif\" causes a serif font. 2) The fonts are different in the top and the bottom of the page, this is because a serif font within a monospace DIV is different from a serif font not within a monospace DIV.  I'm not sure what this says about PRE, but I think PRE needs to be handled in a special way, rather than a special handling of monospace.","id":1775,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Sun Nov 22 16:38:59 EET 1998","creator":"dbaron@dbaron.org","author":"dbaron@dbaron.org","time":"Sun Nov 22 16:38:59 EET 1998","text":"Actually I think no special treatment is needed at all if the FONT attribute is handled as defined in the CSS2 spec at http://www.w3.org/TR/REC-CSS2/cascade.html#q12  I think this is the way FONT is handled by IE5.  I will submit a separate bug on this (this bug has gotten long enough), after making a demo of what should happen.","id":1776,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Sun Nov 22 17:01:59 EET 1998","creator":"dbaron@dbaron.org","author":"dbaron@dbaron.org","time":"Sun Nov 22 17:01:59 EET 1998","text":"I'm actually not submitting a separate bug, because this over-use of FONT occurs only when the CSS inside it is font-family: monospace.  This seems to show that the magic behavior of monospace is needed only because of a bug in the magic behaviour of monospace.  This may explain why \"font-family: monospace, serif\" yields a serif font.  I made a test case for treatment of mixed FONT and CSS at: http://www.fas.harvard.edu/~dbaron/csstest/noncss.html  The FONT tag is given too much control when what is inside it is CSS with \"font-family: monospace\", so that CSS on elements inside the font tag inherits from the FONT FACE rather than using their own values.  This would not happen in CSS even if the FONT FACE were declared ! important.  The above test case explains what should (I think) happen.  IE 5.0 beta 2 passes the above test exactly as described, so compatibility is not an issue.  I think removal of *all* magic treatment of monospace should make PRE and these other problems work as they should, now that white-space is implemented.","id":1777,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Tue Jan 26 01:15:59 EET 1999","creator":"dbaron@dbaron.org","author":"dbaron@dbaron.org","time":"Tue Jan 26 01:15:59 EET 1999","text":"Your comment on 98-10-01 about PRE not changing a font specified using a font tag is true for Netscape only.  MSIE does change the font.  See http://www.fas.harvard.edu/~dbaron/csstest/noncss.html for an example.  MSIE's behavior is more sensible, easier to implement, and doesn't conflict with correct implementation of CSS.  And you won't be \"destroying\" bad pages out there if you change it.","id":1778,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Wed Feb 03 16:08:59 EET 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Wed Feb 03 16:08:59 EET 1999","text":"Setting all current Open/Normal to M4.","id":1779,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Sat May 22 01:20:59 EEST 1999","creator":"dbaron@dbaron.org","author":"dbaron@dbaron.org","time":"Sat May 22 01:20:59 EEST 1999","text":"The code that's doing this seems to be at:  http://lxr.mozilla.org/seamonkey/source/layout/html/content/src/nsHTMLFontElement.cpp#222 and http://lxr.mozilla.org/seamonkey/source/layout/html/style/src/nsCSSStyleRule.cpp#1218","id":1780,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Tue Jun 22 19:46:59 EEST 1999","creator":"peterl-retired@formerly-netscape.com.tld","author":"peterl-retired@formerly-netscape.com.tld","time":"Tue Jun 22 19:46:59 EEST 1999","text":"PRE font compatibility now controlled by extension generic font name '-moz-fixed'. 'Monospace' just selects courier now.","id":1781,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Fri Jun 25 23:12:59 EEST 1999","creator":"dbaron@dbaron.org","author":"dbaron@dbaron.org","time":"Fri Jun 25 23:12:59 EEST 1999","text":"Verified fixed (all tests checked).  Remaining issues spun off into bug 8893.","id":1782,"bug_id":582,"tags":[]},{"is_private":false,"creation_time":"Thu Jan 13 23:59:59 EET 2000","creator":"ian@hixie.ch","author":"ian@hixie.ch","time":"Thu Jan 13 23:59:59 EET 2000","text":"Migrating from {css1} to css1 keyword. The {css1}, {css2}, {css3} and {css-moz} radars should now be considered deprecated in favour of keywords. I am *really* sorry about the spam...","id":1783,"bug_id":582,"tags":[]}]}
