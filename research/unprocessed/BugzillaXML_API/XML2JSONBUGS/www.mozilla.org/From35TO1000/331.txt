{"bugs":[{"creation_time":"Thu May 07 12:34:23 EEST 1998","keywords":[],"is_cc_accessible":true,"flags":[],"whiteboard":"","see_also":[],"resolution":"DUPLICATE","platform":"All","cf_fx_points":"---","cf_fx_iteration":"---","id":331,"assigned_to":"aoki@aol.net","dupe_of":330,"cc":[],"summary":"Superfluous warnings and cleanup","severity":"normal","creator":"nobody@mozilla.org","product":"MozillaClassic","depends_on":[],"is_open":false,"blocks":[],"is_confirmed":true,"cf_qa_whiteboard":"","groups":[],"assigned_to_detail":{"name":"aoki@aol.net","real_name":"Edwin Aoki","id":1688,"email":"aoki@aol.net"},"creator_detail":{"name":"nobody@mozilla.org","real_name":"Nobody; OK to take it and work on it","id":1,"email":"nobody@mozilla.org"},"priority":"P3","classification":"Graveyard","cf_last_resolved":"Fri Dec 01 11:30:51 EET 2000","version":"1998-04-08","url":"","qa_contact":"","op_sys":"All","last_change_time":"Tue Dec 05 11:30:50 EET 2000","target_milestone":"---","component":"Preferences","is_creator_accessible":true,"cc_detail":[],"mentors":[],"mentors_detail":[],"cf_user_story":"","status":"VERIFIED"}],"comments":[{"is_private":false,"creation_time":"Thu May 07 12:34:23 EEST 1998","creator":"nobody@mozilla.org","author":"nobody@mozilla.org","time":"Thu May 07 12:34:23 EEST 1998","text":"Created by   (aoki@netscape.com) on Wednesday, May 6, 1998 10:34:23 PM PDT Additional Details : Reported by Brian Grunkemeyer (bg2k@andrew.cmu.edu)  Added a default case to a switch to handle some unhandled enum values, but I don't know if that ever comes up, and I don't know if it's a bad thing.  So right now it just prints out that it fell through the switch at that file & line number.  Maybe there should be an assertion saying someone called the function with the wrong parameters, if these are wrong.  Have someone who understands that file check this and do something intelligent.     Got rid of some unused variables as well.     Apply this patch in modules/libpref/src/.       ------------------------------------------------------- -----------------    Index: prefapi.c    =======    ========================================================= ===    RCS file: /cvsroot/mozilla/modules/libpref/src/ prefapi.c,v    retrieving revision 3.1    diff -u -r3.1 prefapi.c    --- prefapi.c   1998/03/28 03:35:10     3.1    +++ prefapi.c   1998/05/03 00:27:26    @@ -1454,6 +1454,10 @@                    case PREF_BOOL:                            changed = oldValue.boolVal != newValue.boolVal;                            break;    +               default:    +                       /* This doesn't handle PREF_LOCKED, PREF_USERSET,    +                          PREF_CONFIG, nor PREF_LILOCAL. Is this bad? */    +                       fprintf(stderr, \"Fell through case in %s at line %d.  Is this bad?\\n\",    __FILE__, __LINE__);            }            return changed;     }    @@ -1655,9 +1659,8 @@     JSBool PR_CALLBACK pref_NativeGetPref            (JSContext *cx, JSObject *obj, unsigned int argc, jsval *argv, jsval *rval)     {    -       void* value = NULL;            PrefNode* pref;    -       XP_Bool prefExists = TRUE;    +       /* Unused:  XP_Bool prefExists = TRUE; */          if (argc >= 1 && JSVAL_IS_STRING(argv[0]))         {    @@ -2042,7 +2045,6 @@     {            char *last;     -       int i, j, k, n;            const char *s, *t;             last = PR_sprintf_append(0, \"An error occurred reading the startup    configuration file.  \"     Updated by   (aoki@netscape.com) on Monday, August 17, 1998 9:35:11 AM PDT Additional Details : Duplicate of bug #330","id":815,"bug_id":331,"tags":[]},{"is_private":false,"creation_time":"Fri Dec 01 11:30:18 EET 2000","creator":"jruderman@gmail.com","author":"jruderman@gmail.com","time":"Fri Dec 01 11:30:18 EET 2000","text":"reopen to actually mark as a dup","id":524735,"bug_id":331,"tags":[]},{"is_private":false,"creation_time":"Fri Dec 01 11:30:51 EET 2000","creator":"jruderman@gmail.com","author":"jruderman@gmail.com","time":"Fri Dec 01 11:30:51 EET 2000","text":"  *** This bug has been marked as a duplicate of 330 ***","id":524737,"bug_id":331,"tags":[]},{"is_private":false,"creation_time":"Tue Dec 05 11:30:50 EET 2000","creator":"diegoliz@gmail.com","author":"diegoliz@gmail.com","time":"Tue Dec 05 11:30:50 EET 2000","text":"Verified dupe of bug 330 (same bug report)","id":526642,"bug_id":331,"tags":[]}]}
