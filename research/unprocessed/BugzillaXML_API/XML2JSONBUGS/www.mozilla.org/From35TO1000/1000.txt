{"bugs":[{"creation_time":"Sat Oct 03 07:53:35 EEST 1998","keywords":[],"is_cc_accessible":true,"flags":[],"whiteboard":"","see_also":[],"resolution":"WONTFIX","platform":"All","cf_fx_points":"---","cf_fx_iteration":"---","id":1000,"assigned_to":"nisheeth_mozilla@yahoo.com","cc":["cmanske@jivamedia.com","shaver@mozilla.org","toshok@formerly-netscape.com.tld"],"summary":"Core Dump in laysel.c","severity":"critical","creator":"ramiro@eazel.com","product":"MozillaClassic","depends_on":[54368,54369],"is_open":false,"blocks":[],"is_confirmed":true,"cf_qa_whiteboard":"","groups":[],"assigned_to_detail":{"name":"nisheeth_mozilla@yahoo.com","real_name":"Nisheeth Ranjan","id":99,"email":"nisheeth_mozilla@yahoo.com"},"creator_detail":{"name":"ramiro@eazel.com","real_name":"Ramiro Estrugo","id":602,"email":"ramiro@eazel.com"},"priority":"P1","classification":"Graveyard","cf_last_resolved":"Wed Aug 27 23:20:24 EEST 2003","version":"1998-03-31","url":"http://www.mozillaZine.org/","qa_contact":"","op_sys":"Linux","last_change_time":"Thu Feb 22 18:01:47 EET 2007","target_milestone":"M7","component":"Layout","is_creator_accessible":true,"cc_detail":[{"name":"cmanske@jivamedia.com","real_name":"Charles Manske","id":3195,"email":"cmanske@jivamedia.com"},{"name":"shaver@mozilla.org","real_name":"Mike Shaver (:shaver -- probably not reading bugmail closely)","id":422,"email":"shaver@mozilla.org"},{"name":"toshok@formerly-netscape.com.tld","real_name":"","id":1673,"email":"toshok@formerly-netscape.com.tld"}],"mentors":[],"mentors_detail":[],"cf_user_story":"","status":"VERIFIED"}],"comments":[{"is_private":false,"creation_time":"Sat Oct 03 07:53:35 EEST 1998","creator":"ramiro@eazel.com","author":"ramiro@eazel.com","time":"Sat Oct 03 07:53:35 EEST 1998","text":"Goto the above url and click on the talkback graphics...BOOM...  Core Dump in laysel.c  Here is a stack trace,  The problem is the begin is NULL and being dereferenced.  There was no selection when i went to the above url.   #0  0x403f891d in lo_HitLine (context=0x861fe00, state=0x862de00, x=393, y=15,     requireCaret=1 '\\001', result=0xbfffd2c4) at laysel.c:4487 ---Type <return> to continue, or q <return> to quit--- 4487            if ( begin->type != LO_LINEFEED && end->type == LO_LINEFEED ) {  (gdb) bt #0  0x403f891d in lo_HitLine (context=0x861fe00, state=0x862de00, x=393, y=15,     requireCaret=1 '\\001', result=0xbfffd2c4) at laysel.c:4487 #1  0x403f9236 in LO_Hit (context=0x861fe00, x=393, y=15,     requireCaret=1 '\\001', result=0xbfffd2c4, layer=0x8668b00) at laysel.c:4941 #2  0x403f93de in LO_Click (context=0x861fe00, x=393, y=535,     requireCaret=1 '\\001', layer=0x8668b00) at laysel.c:5009 #3  0x403f2fab in LO_StartSelection (context=0x861fe00, x=393, y=535,     layer=0x8668b00) at laysel.c:426 #4  0x80baefd in fe_arm_link_action_for_layer (context=0x861fe00,     layer=0x8668b00, layer_event=0x854e600) at lay.c:3461 #5  0x80d8fe1 in FE_HandleLayerEvent (context=0x861fe00, layer=0x8668b00,     layer_event=0x854e600) at xfe.c:3280 #6  0x403dc138 in lo_html_event_callback (pContext=0x861fe00, pEle=0x86a99e8,     event=1, pObj=0x826e020, status=EVENT_OK) at laylayer.c:305 #7  0x406b5bce in et_HandleEvent_JsEventAck (e=0x8652500) at et_moz.c:1311 #8  0x407c612f in PL_HandleEvent (self=0x8652500) at plevent.c:395 #9  0x407c6049 in PL_ProcessPendingEvents (self=0x8271280) at plevent.c:357 #10 0x80bfc18 in fe_event_processor_callback (closure=0x0, fd=0x8495134,     id=0xbfffd428) at mozilla.c:1812 #11 0x408e093d in XtAppProcessEvent () #12 0x80bee2e in fe_EventLoop () at mozilla.c:1141 #13 0x80c20d1 in main (argc=1, argv=0xbfffeca4) at mozilla.c:3421 (gdb)   (gdb) p begin $2 = (LO_Element *) 0x0","id":4292,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Sat Oct 03 15:09:59 EEST 1998","creator":"ramiro@formerly-netscape.com.tld","author":"ramiro@formerly-netscape.com.tld","time":"Sat Oct 03 15:09:59 EEST 1998","text":"I just verified that this happens on nt as well.","id":4293,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Mon Oct 12 00:22:59 EEST 1998","creator":"nisheeth_mozilla@yahoo.com","author":"nisheeth_mozilla@yahoo.com","time":"Mon Oct 12 00:22:59 EEST 1998","text":"Charley recently checked in a bunch of selection code changes.  This could potentially be caused by them.  Charley, can you please be the first line of investigation for this bug?  Please re-assign the bug to yourself if you agree.  Also, once you've looked at it, please don't hesitate to re-assign it to back to me if the problem is unrelated to your changes.  Thanks.","id":4294,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Mon Oct 12 17:23:59 EEST 1998","creator":"cmanske@jivamedia.com","author":"cmanske@jivamedia.com","time":"Mon Oct 12 17:23:59 EEST 1998","text":"This problem isn't in any of the code I touched, but I did investigate it. This is happening in on mouse down when starting a selection - here's an edited stack: lo_HitLine(... LO_Hit(... LO_Click(... LO_StartSelection(... Here's the relevant code in lo_HitLine:     /*      * Search from current line backwards to find something to edit.      */     for ( line = lo_PointToLine(context, state, x, y);         line >= 0;         line-- )     {         LO_Element* begin;         LO_Element* end;         LO_Element* tptr;         lo_GetLineEnds(context, state, line, & begin, & end);         /* lo_GetLineEnds returns the start of the next line for 'end' */         if ( end ) {             end = end->lo_any.prev;         } else {             /* Last line. We know that the last line only has one element. */             end = begin;         } /****** CRASH IF begin == 0 ***********/         /* How can this be? */         if( begin == 0 )             continue; /****** END OF ADDED CODE ***********/          /* Except for cases where the entire line is a line feed, don't select the end line-feed. */         if ( begin->type != LO_LINEFEED && end->type == LO_LINEFEED ) {             end = end->lo_any.prev;         } ...  The added code show aboveprevents the crash, but the problem is deeper: Why is it failing to find a begin element? With my \"fix\", it doesn't crash, but you can't select any text in the page (everything is inside a table.)  Leaving assigned to nisheeth for further investigation.","id":4295,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Tue Oct 13 08:54:59 EEST 1998","creator":"nisheeth_mozilla@yahoo.com","author":"nisheeth_mozilla@yahoo.com","time":"Tue Oct 13 08:54:59 EEST 1998","text":"Charley checked in his temp fix today to avoid the crash.  I'll take a look at why \"begin\" is being returned as NULL.  Changing platform to All.","id":4296,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Tue Nov 24 16:08:59 EET 1998","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Tue Nov 24 16:08:59 EET 1998","text":"Putting on ss: radar.","id":4297,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Tue Nov 24 16:09:59 EET 1998","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Tue Nov 24 16:09:59 EET 1998","text":"*** Bug 1014 has been marked as a duplicate of this bug. ***","id":4298,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Tue Nov 24 17:44:59 EET 1998","creator":"paulmac@formerly-netscape.com.tld","author":"paulmac@formerly-netscape.com.tld","time":"Tue Nov 24 17:44:59 EET 1998","text":"doesn't crash on win95 (haven't checked on linux), so not a stop ship for developer release. Will leave bug open since it looks like it's still under investigation, but removing the ss:","id":4299,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Mon Dec 14 07:06:59 EET 1998","creator":"nisheeth_mozilla@yahoo.com","author":"nisheeth_mozilla@yahoo.com","time":"Mon Dec 14 07:06:59 EET 1998","text":"This bug existed in the old layout engine.  Marking wontfix because the old layout engine is dead.  NGLayout does not exhibit this bug.","id":4300,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Mon Feb 01 21:21:59 EET 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Mon Feb 01 21:21:59 EET 1999","text":"Marking Verified as a Won't Fix.","id":4301,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Wed Feb 23 22:56:33 EET 2000","creator":"waterson@maubi.net","author":"waterson@maubi.net","time":"Wed Feb 23 22:56:33 EET 2000","text":"Sorry for the spam. I needed to find a really old bug so that I could test out line wrapping on Win32 to see what would happen. You see, in yesterday's build, it wouldn't put the line-wraps into to the bug when I wrote something really, really, long a droll like this. Okay, that should be long enough. This ends your regularly scheduled programming. ","id":208010,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Mon Aug 14 05:42:22 EEST 2000","creator":"jwbaker@gmail.com","author":"jwbaker@gmail.com","attachment_id":12857,"time":"Mon Aug 14 05:42:22 EEST 2000","text":"Created attachment 12857 Please ignore this test","id":392863,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Sun Jul 21 19:31:40 EEST 2002","creator":"octalc0de@veryfast.biz","author":"octalc0de@veryfast.biz","time":"Sun Jul 21 19:31:40 EEST 2002","text":"<spam> Testing some things on a really really old and deprecated bug. Please ignore. <\/spam>","id":1457413,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Wed Aug 27 23:18:49 EEST 2003","creator":"bugzilla@babylonsounds.com","author":"bugzilla@babylonsounds.com","time":"Wed Aug 27 23:18:49 EEST 2003","text":"Status CLOSED is deprecated as per bug 169885","id":1944737,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Wed Aug 27 23:20:24 EEST 2003","creator":"bugzilla@babylonsounds.com","author":"bugzilla@babylonsounds.com","time":"Wed Aug 27 23:20:24 EEST 2003","text":"Re-resolving","id":1944745,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Wed Aug 27 23:21:32 EEST 2003","creator":"bugzilla@babylonsounds.com","author":"bugzilla@babylonsounds.com","time":"Wed Aug 27 23:21:32 EEST 2003","text":"verifying former CLOSED bug","id":1944749,"bug_id":1000,"tags":[]},{"is_private":false,"creation_time":"Thu Feb 22 18:01:47 EET 2007","creator":"petef47@fordy.org","author":"petef47@fordy.org","time":"Thu Feb 22 18:01:47 EET 2007","text":"see comment #12","id":3117126,"bug_id":1000,"tags":[]}]}
