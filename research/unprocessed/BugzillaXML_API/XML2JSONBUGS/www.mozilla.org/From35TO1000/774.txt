{"bugs":[{"creation_time":"Wed Sep 09 17:28:59 EEST 1998","keywords":[],"is_cc_accessible":true,"flags":[],"whiteboard":"","see_also":[],"resolution":"DUPLICATE","platform":"PowerPC","cf_fx_points":"---","cf_fx_iteration":"---","id":774,"assigned_to":"sdagley@mac.com","dupe_of":771,"cc":[],"summary":"error on exiting program","severity":"normal","creator":"corvin@emeraldnet.net","product":"MozillaClassic","depends_on":[],"is_open":false,"blocks":[],"is_confirmed":true,"cf_qa_whiteboard":"","groups":[],"assigned_to_detail":{"name":"sdagley@mac.com","real_name":"Steve Dagley","id":1670,"email":"sdagley@mac.com"},"creator_detail":{"name":"corvin@emeraldnet.net","real_name":"","id":3887,"email":"corvin@emeraldnet.net"},"priority":"P2","classification":"Graveyard","cf_last_resolved":"Thu Sep 10 00:32:30 EEST 1998","version":"1998-09-04","url":"","qa_contact":"","op_sys":"Mac System 7.5","last_change_time":"Wed Apr 21 18:23:15 EEST 1999","target_milestone":"---","component":"Macintosh FE","is_creator_accessible":true,"cc_detail":[],"mentors":[],"mentors_detail":[],"cf_user_story":"","status":"VERIFIED"}],"comments":[{"is_private":false,"creation_time":"Wed Sep 09 17:28:59 EEST 1998","creator":"corvin@emeraldnet.net","author":"corvin@emeraldnet.net","time":"Wed Sep 09 17:28:59 EEST 1998","text":"MacsBug 6.5.4a3c1, © Apple Computer, Inc. 1981-97  User break at 02200534 free+000A4  fastmem: attempt to dispose illegal block    9-Sep-98 10:09:04 AM (since boot = 55 minutes)   Current application is \u201cNavigatorDebug\u201d   Machine = 108 (PowerMac7200), System $0810, sysu = $01008000   ROM version $077D, $28F2, $0001 (ROMBase $FFC00000)   VM is off   NIL^ = $FFC10000   Stack space used = +39332890  Address 02200534 is in the Process Manager heap at 00951DA0 at free+000A4  The address is in a CFM fragment \u201cMemoryAllocator\u201d [non-write exec]  It is 00001684 bytes from the start of the fragment  It is 00001684 bytes into this heap block:      Start    Length      Tag  Mstr Ptr Lock Prg  Type ID   File      Name   \u2022 021FEEB0 00003748+0C   R   02583E28   L  PowerPC 601 Registers                          CR0  CR1  CR2  CR3  CR4  CR5 CR6  CR7   PC  = 02200534     CR  1000 1010 0000 0000 0000 1000 1000 0000   LR  = 02200534         <>=O XEVO   CTR = FFD5AE38   MSR = 00000000         SOC Compare Count   Int = 0            XER 001   00     00    R0  = FFD5AE38     R8  = 55534544      R16 = 02583E94      R24 = 00000000   SP  = 02191410     R9  = 3A006564      R17 = 0224CB2C      R25 = 01A35629   TOC = 0002ABF8     R10 = 75736564      R18 = 00000000      R26 = 00000000   R3  = 02201F52     R11 = 02201F07      R19 = 01B968D8      R27 = 01E72848   R4  = 55534544     R12 = 02200534      R20 = 01A2F417      R28 = 00000000   R5  = 46524545     R13 = 00000000      R21 = 021C5210      R29 = 01E7285C   R6  = 00000000     R14 = 00000000      R22 = 022571C4      R30 = 01E7285C   R7  = 55534544     R15 = 000000D0      R23 = 00000000      R31 = 01E72848  Disassembling PowerPC code from 0220050C   free      +0007C 0220050C   cmplw      r7,r8 | 7C074040      +00080 02200510   bne        free+00098 ; 0x02200528 | 40820018      +00084 02200514   lwz r9,0x0000(r29)                          | 813D0000      +00088 02200518   lis        r10,0x7573 | 3D407573      +0008C 0220051C   addi r10,r10,0x6564                          | 394A6564      +00090 02200520   cmplw      r9,r10 | 7C095040      +00094 02200524   beq        free+000AC ; 0x0220053C | 41820018      +00098 02200528   lwz r11,0x00FC(RTOC)                        | 816200FC      +0009C 0220052C   addi r3,r11,0x004B                           | 386B004B      +000A0 02200530   bl         DebugStr ; 0x02201D30 | 48001801      +000A4 02200534  *lwz RTOC,0x0014(SP)                         | 80410014      +000A8 02200538   b          free+00160 ; 0x022005F0 | 480000B8      +000AC 0220053C   lwz r12,0x000C(r31)                         | 819F000C      +000B0 02200540   cmplwi     r12,0x0000 | 280C0000      +000B4 02200544   beq        free+000C8 ; 0x02200558 | 41820014      +000B8 02200548   lwz r3,0x0010(r31)                          | 807F0010      +000BC 0220054C   lwz r4,0x000C(r31)                          | 809F000C      +000C0 02200550   stw r3,0x0010(r4)                           | 90640010      +000C4 02200554   b          free+000D4 ; 0x02200564 | 48000010      +000C8 02200558   lwz r5,0x0010(r31)                          | 80BF0010  Heap zones   #1  Mod        9533K  00002800 to 00951D9F SysZone^   #2  Mod           6K    000092C0 to 0000AE5F ROM read-only zone   #3  Mod          48K    0015DF90 to 00169F8F   #4  Mod       28872K  00951DA0 to 0258401F Process Manager zone   #5  Mod       11379K    01665F60 to 02182C0F  \u201cNavigatorDebug\u201d  ApplZone^ TheZone^  Target Zone   #6  Mod          19K    021AF610 to 021B45CF   #7  Mod          32K    021B45F0 to 021BC71F   #8  Mod          24K    021BC740 to 021C2A9F   #9  Mod          15K    021D3AE0 to 021D7ABF   #10 Mod          16K    021D7AE0 to 021DBDFF   #11 Mod          47K    021DBE20 to 021E7BCF   #12 Mod          59K    021E7BF0 to 021F6ABF   #13 Mod           4K    021F6AE0 to 021F7E1F   #14 Mod          27K    021F7E40 to 021FED8F   #15 Mod         950K    02482600 to 0257018F \u201cFinder\u201d Checking all heaps  The System heap at 00002800 is ok  The ROM read-only heap at 000092C0 is ok  The heap at 0015DF90 is ok  The Process Manager heap at 00951DA0 is ok  The \u201cNavigatorDebug\u201d heap at 01665F60 is ok  The heap at 021AF610 is ok  The heap at 021B45F0 is ok  The heap at 021BC740 is ok  The heap at 021D3AE0 is ok  The heap at 021D7AE0 is ok  The heap at 021DBE20 is ok  The heap at 021E7BF0 is ok  The heap at 021F6AE0 is ok  The heap at 021F7E40 is ok  The \u201cFinder\u201d heap at 02482600 is ok  Totaling the \u201cNavigatorDebug\u201d heap at 01665F60                                  Total Blocks    Total of Block Sizes   Free                           009B     #155 000D2DF0      #863728   Nonrelocatable                 009E     #158 009FCABC    #10472124   Relocatable                    0276     #630 0004D3C0      #316352     Locked                       0004       #4   00000300 #768     Purgeable and not locked     0119     #281 00008470       #33904   Heap size                      03AF     #943 00B1CC6C    #11652204  The target heap is the System heap at 00002800  Totaling the System heap at 00002800                                  Total Blocks    Total of Block Sizes   Free                           002D      #45   00021880 #137344   Nonrelocatable                 05F6    #1526 0045289C     #4532380   Relocatable                    0677    #1655 004DB440     #5092416     Locked                       012D     #301 002E3880     #3029120     Purgeable and not locked     00F9     #249 00156370     #1401712   Heap size                      0C9A    #3226 0094F55C     #9762140  The target heap is the \u201cNavigatorDebug\u201d heap at 01665F60  Displaying File Control Blocks   fRef File                   Vol         Type Fl Fork LEof   0002 System                 Macintosh \u2026 zsys dW rsrc #6823994   0060                        Macintosh \u2026 \u2022\u2022\u2022\u2022 dw data #1044480   00BE                        Macintosh \u2026 \u2022\u2022\u2022\u2022 dw data #2088960   1DC0 Open Tpt AppleTalk Li\u2026 Macintosh \u2026 libr dw rsrc  #541750   1E1E Open Transport Library Macintosh \u2026 libr dw rsrc  #587348   1E7C Shared Library Manage\u2026 Macintosh \u2026 INIT dw rsrc  #211694   1EDA Open Transport Library Macintosh \u2026 libr dw rsrc  #587348   1F38 Open Tpt AppleTalk Li\u2026 Macintosh \u2026 libr dw rsrc  #541750   1F96 Open Tpt Internet Lib\u2026 Macintosh \u2026 libr dw rsrc  #485151   1FF4 OpenTpt Remote Access  Macintosh \u2026 libr dw rsrc  #541432   2052 OpenTpt Modem          Macintosh \u2026 libr dw rsrc   #85766   20B0 OpenTpt Remote Access  Macintosh \u2026 libr dw rsrc  #541432   210E Remote Access Log      Macintosh \u2026 lzlg dW data #1427456   216C Serial (Built-in)      Macintosh \u2026 libr dw rsrc   #63254   21CA Open Transport Library Macintosh \u2026 libr dw rsrc  #587348   2228 OpenTpt Serial Arbitr\u2026 Macintosh \u2026 libr dw rsrc    #7638   2286 OpenTpt Serial Arbitr\u2026 Macintosh \u2026 libr dw rsrc    #7638   22E4 Appearance Extension   Macintosh \u2026 INIT dw rsrc  #633281   2342 Appearance Extension   Macintosh \u2026 INIT dw rsrc  #633281   23A0 Users & Groups Data F\u2026 Macintosh \u2026 BTFL dW data   #69632   23FE QuickTime™             Macintosh \u2026 INIT dw data  #369778   245C Mac OS Easy Open       Macintosh \u2026 cdev dw rsrc  #132666   24BA Finder                 Macintosh \u2026 FNDR dW rsrc  #502012   2518 File Sharing Library   Macintosh \u2026 shlb dw rsrc    #3483   2576 Finder Preferences     Macintosh \u2026 pref dW rsrc     #622   25D4 Desktop DB             Macintosh \u2026 BTFL dW data  #452608   2632 Desktop DF             Macintosh \u2026 DTFL dW data #2985746   2690 Open Tpt Internet Lib\u2026 Macintosh \u2026 libr dw rsrc  #485151   26EE NavigatorDebug         Macintosh \u2026 APPL dW rsrc  #917471   274C Log.txt                Macintosh \u2026 TEXT dW data  #179308   27AA OpenTpt Remote Access  Macintosh \u2026 libr dw rsrc  #541432   2808 Mozilla Resources      Macintosh \u2026 NSPL dW rsrc  #512564   2866 names.db               Macintosh \u2026 BINA dW data    #1152   28C4 child.db               Macintosh \u2026 BINA dW data   #16384   2922 lstr.db                Macintosh \u2026 BINA dW data    #4096   2980 ilstr.db               Macintosh \u2026 BINA dW data   #65536   29DE CCache log             Macintosh \u2026 DBMC dW data  #102400   2A3C StdLog                 Macintosh \u2026 TEXT dW data    #8337   #238 FCBs, #116 in use (including #78 fonts not listed), #122 free  Displaying resource information:   >   Map $016660E8, flags $0000, file $26EE = NavigatorDebug       Map $01B9C48C, flags $0000, file $2808 = Mozilla Resources    +  Map $0039ED30, flags $001E, file $22E4 = Appearance Extension    +  Map $00003320, flags $801E, file $0003 = \u2022ROM resources that override System\u2022     S Map $00003374, flags $000D, file $0002 = System       Map $0054BC58, flags $0000, file $245C = Mac OS Easy Open       [Skipped $004E maps belonging to font files]  Calling chain using A6/R1 links   Back chain  ISA  Caller   00000000    PPC  018B1DFC XP_GetNavCenterContext+18858   02192A30    PPC  016DB14C  main+00154   021929E0    PPC  016D56B0 CFrontApp::~CFrontApp()+0022C   02192960    PPC  018C9350 NET_CleanupCacheDirectory+000DC   02191740    PPC  018C9070 net_cache_recursive_file_finder+000CC   021916C0    PPC  015B28F8  PR_OpenDir+ 00038   02191680    PPC  015C7D7C  _MD_OpenDir+ 000D0   021914A0    PPC  015BA8EC  PR_Free+00014  Return addresses on the stack   Stack Addr  Frame Addr   ISA   Caller    021917E4                PPC   00184E14 NQDSetCCursor+03870    0219176C                68K   0219158E    02191748                PPC   018C9350 NET_CleanupCacheDirectory+000DC    0219172C                68K   01B3A756    0219170C                68K   01B968D6    021916F8                68K   01840486 XP_HashListNew+000A6    021916DC                68K   01B3A756    021916C8    021916C0    PPC   018C9070 net_cache_recursive_file_finder+000CC    02191688    02191680    PPC   015B28F8 PR_OpenDir+00038    02191648    02191640    PPC   015BA800 PR_Malloc+00014    021915E8                68K   01B3A756    021915A8    021915A0    PPC   01374FB0 LCommander::ProcessCommand(long, void*)+ 00058    0219156C                68K   0219158E    02191508    02191500    PPC   018E9740 _MK_TraceMsg+00050    021914C8    021914C0    PPC   001790C8 EmToNatEndMoveParams+00014    021914A8    021914A0    PPC   015C7D7C _MD_OpenDir+000D0    0219146C                68K   01B968D6    02191468    02191460    PPC   015BA8EC PR_Free+00014    02191438                68K   0137162A LArrayIterator::Current(void*)+00032    02191418    02191410    PPC   01397150 LWindow::ObeyCommand(long, void*)+00038  Displaying memory from 0   00000000  FFC1 0000 FFC1 0000  0067 4E46 0067 4E48  \u2022¡\u2022\u2022\u2022¡\u2022\u2022\u2022gNF\u2022gNH   00000010  0067 4E4A 0067 4E4C  FFC0 31A8 FFC0 31AA  \u2022gNJ\u2022gNL\u2022¿1®\u2022¿1™  Closing log","id":2815,"bug_id":774,"tags":[]},{"is_private":false,"creation_time":"Thu Sep 10 00:32:59 EEST 1998","creator":"sdagley@mac.com","author":"sdagley@mac.com","time":"Thu Sep 10 00:32:59 EEST 1998","text":"*** This bug has been marked as a duplicate of 771 ***","id":2816,"bug_id":774,"tags":[]},{"is_private":false,"creation_time":"Thu Feb 25 23:27:59 EET 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Thu Feb 25 23:27:59 EET 1999","text":"Verifying as dup...old bug.","id":2817,"bug_id":774,"tags":[]},{"is_private":false,"creation_time":"Thu Mar 04 17:16:59 EET 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Thu Mar 04 17:16:59 EET 1999","text":"Marking Verified/Duplicate.","id":2818,"bug_id":774,"tags":[]}]}
