{"bugs":[{"creation_time":"Fri Sep 25 21:22:05 EEST 1998","keywords":[],"see_also":[],"resolution":"FIXED","cf_blocking_fx":"---","cf_fx_iteration":"---","cf_blocking_b2g":"---","cf_status_b2g_1_4":"---","id":905,"is_open":false,"cf_qa_whiteboard":"","assigned_to_detail":{"name":"rods@formerly-netscape.com.tld","real_name":"rods (gone)","id":3821,"email":"rods@formerly-netscape.com.tld"},"creator_detail":{"name":"troy@formerly-netscape.com.tld","real_name":"","id":3825,"email":"troy@formerly-netscape.com.tld"},"cf_status_firefox37":"---","priority":"P2","cf_status_firefox36":"---","classification":"Components","cf_status_firefox35":"---","version":"Trunk","cf_status_firefox34":"---","op_sys":"Windows NT","last_change_time":"Wed Jan 14 02:10:39 EET 2009","cf_crash_signature":"","mentors_detail":[],"cf_tracking_b2g":"---","qa_contact_detail":{"name":"jcarpenter0524@aol.com","real_name":"Jan Carpenter","id":3847,"email":"jcarpenter0524@aol.com"},"cf_status_b2g_2_0m":"---","status":"VERIFIED","cf_feature_b2g":"---","is_cc_accessible":true,"cf_tracking_firefox37":"---","cf_tracking_firefox36":"---","cf_tracking_relnote_b2g":"---","flags":[],"cf_status_firefox_esr31":"---","whiteboard":"","platform":"x86","cf_tracking_firefox_esr31":"---","cf_blocking_fennec":"---","cf_fx_points":"---","cf_tracking_firefox35":"---","cf_tracking_firefox34":"---","cf_status_b2g_2_2":"---","cf_status_b2g_2_1":"---","cf_status_b2g_2_0":"---","assigned_to":"rods@formerly-netscape.com.tld","summary":"nsFont embedded nsString object","cf_tracking_e10s":"---","cc":["lynn_carreon@yahoo.com"],"severity":"normal","creator":"troy@formerly-netscape.com.tld","product":"Core","depends_on":[],"cf_tracking_firefox_relnote":"---","blocks":[],"is_confirmed":true,"groups":[],"cf_last_resolved":"Tue Jan 25 17:48:32 EET 2000","url":"","qa_contact":"jcarpenter0524@aol.com","target_milestone":"M15","component":"XUL","is_creator_accessible":true,"cc_detail":[{"name":"lynn_carreon@yahoo.com","real_name":"","id":335670,"email":"lynn_carreon@yahoo.com"}],"mentors":[],"cf_user_story":""}],"comments":[{"is_private":false,"creation_time":"Fri Sep 25 21:22:05 EEST 1998","creator":"troy@formerly-netscape.com.tld","author":"troy@formerly-netscape.com.tld","time":"Fri Sep 25 21:22:05 EEST 1998","text":"nsFont objects tend to be used on the stack, e.g. by TextFrame in its Paint() member function, and because nsFont contains a nsString object that allocates space from the heap, we end up with a large number of temporary object generated.  We either need to not have nsFont allocate the string from the heap, or re-think the usage pattern: e.g., TextFrame is defining a nsFont instance so it can override the decoration that's in the style information","id":3596,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Wed Feb 03 16:08:59 EET 1999","creator":"leger@formerly-netscape.com.tld","author":"leger@formerly-netscape.com.tld","time":"Wed Feb 03 16:08:59 EET 1999","text":"Setting all current Open/Normal to M4.","id":3597,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Sat Mar 06 06:01:59 EET 1999","creator":"paulmac@formerly-netscape.com.tld","author":"paulmac@formerly-netscape.com.tld","time":"Sat Mar 06 06:01:59 EET 1999","text":"per leger, assigning QA contacts to all open bugs without QA contacts according to list at http://bugzilla.mozilla.org/describecomponents.cgi?product=Browser","id":3598,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Sun Mar 07 20:22:59 EET 1999","creator":"christinehoff4@aol.com","author":"christinehoff4@aol.com","time":"Sun Mar 07 20:22:59 EET 1999","text":"Reassigning qa contact to janc.","id":3599,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Wed Sep 08 00:45:59 EEST 1999","creator":"peterl-retired@formerly-netscape.com.tld","author":"peterl-retired@formerly-netscape.com.tld","time":"Wed Sep 08 00:45:59 EEST 1999","text":"Pushing off non-beta 1 issues","id":3600,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Thu Oct 21 08:07:59 EEST 1999","creator":"pierre@formerly-netscape.com.tld","author":"pierre@formerly-netscape.com.tld","time":"Thu Oct 21 08:07:59 EEST 1999","text":"Reassigning peterl's bugs to myself.","id":3601,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Thu Oct 21 08:12:59 EEST 1999","creator":"pierre@formerly-netscape.com.tld","author":"pierre@formerly-netscape.com.tld","time":"Thu Oct 21 08:12:59 EEST 1999","text":"Accepting peterl's bugs that have a Target Milestone","id":3602,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Tue Oct 26 22:03:59 EEST 1999","creator":"pierre@formerly-netscape.com.tld","author":"pierre@formerly-netscape.com.tld","time":"Tue Oct 26 22:03:59 EEST 1999","text":"Triaging my bugs... This one shouldn't be in my list. I had a quick look and below are all the instances of nsFont I found on the stack:   nsFormControlHelper::GetFrameFontFM   nsFormControlHelper::PaintRectangularButton   nsGfxTextControlFrame::Reflow (DEBUG)   nsGfxTextControlFrame::InitializeTextControl   nsNativeButtonControlFrame::PostCreateWidget   nsNativeSelectControlFrame::PostCreateWidget   nsNativeSelectControlFrame::PaintSelectControl   nsNativeTextControlFrame::PostCreateWidget   nsNativeTextControlFrame::PaintTextControl  Reassigning to the XPToolkit team.","id":3603,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Mon Nov 01 20:46:59 EET 1999","creator":"trudelle@acm.org","author":"trudelle@acm.org","time":"Mon Nov 01 20:46:59 EET 1999","text":"I don't see why you're reassigning to XPToolkit, none of these are ours. Ignoring the vestigial native widgets, 3 of the remaining 4 occurrences seem to be checked in by rods, reassigning.","id":3604,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Tue Nov 02 17:53:59 EET 1999","creator":"rods@formerly-netscape.com.tld","author":"rods@formerly-netscape.com.tld","time":"Tue Nov 02 17:53:59 EET 1999","text":"Troy, if we made the nsString in the nsFont object be an nsAutoString, does this solve the problem?","id":3605,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Tue Nov 02 19:20:59 EET 1999","creator":"troy@formerly-netscape.com.tld","author":"troy@formerly-netscape.com.tld","time":"Tue Nov 02 19:20:59 EET 1999","text":"No, I don't think we can do that. We looked at that once before and I think Peter embeds nsFont in his style data structs. Using an nsAutoString would cause the size of the style data structs to go way up","id":3606,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Thu Dec 23 15:58:59 EET 1999","creator":"rods@formerly-netscape.com.tld","author":"rods@formerly-netscape.com.tld","time":"Thu Dec 23 15:58:59 EET 1999","text":"moving to M15","id":3607,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Mon Jan 24 17:41:48 EET 2000","creator":"rods@formerly-netscape.com.tld","author":"rods@formerly-netscape.com.tld","time":"Mon Jan 24 17:41:48 EET 2000","text":"reassigning to Kevin","id":171149,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Mon Jan 24 17:57:44 EET 2000","creator":"kmcclusk@formerly-netscape.com.tld","author":"kmcclusk@formerly-netscape.com.tld","time":"Mon Jan 24 17:57:44 EET 2000","text":"Reassigning back to Rod.","id":171163,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Tue Jan 25 17:48:32 EET 2000","creator":"rods@formerly-netscape.com.tld","author":"rods@formerly-netscape.com.tld","time":"Tue Jan 25 17:48:32 EET 2000","text":"I changed the usage pattern, there are no longer any nsFont object declared on  the stack and textFrame does not declare any on the stack either. This will help  memory fragmentation","id":172291,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Tue Feb 01 04:08:16 EET 2000","creator":"jcarpenter0524@aol.com","author":"jcarpenter0524@aol.com","time":"Tue Feb 01 04:08:16 EET 2000","text":"Verified fixt per Troy (Thanks Troy!)","id":179654,"bug_id":905,"tags":[]},{"is_private":false,"creation_time":"Wed Jan 14 02:10:39 EET 2009","creator":"lynn_carreon@yahoo.com","author":"lynn_carreon@yahoo.com","time":"Wed Jan 14 02:10:39 EET 2009","text":"January 14, 2008 ---- Test entry","id":3929236,"bug_id":905,"tags":[]}]}
