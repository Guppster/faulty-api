{"bugs":[{"creation_time":"Sun Sep 20 02:12:11 EEST 1998","keywords":[],"see_also":[],"resolution":"FIXED","cf_blocking_fx":"---","cf_fx_iteration":"---","cf_status_b2g_1_4":"---","id":848,"is_open":false,"cf_qa_whiteboard":"","assigned_to_detail":{"name":"jud@me.dium.com","real_name":"Judson Valeski","id":614,"email":"jud@me.dium.com"},"creator_detail":{"name":"dbaron@dbaron.org","real_name":"David Baron [:dbaron] (UTC-5) (needinfo? for questions)","id":3881,"email":"dbaron@dbaron.org"},"cf_status_firefox37":"---","priority":"P1","cf_status_firefox36":"---","classification":"Graveyard","cf_status_firefox35":"---","version":"Trunk","cf_status_firefox34":"---","op_sys":"Other","last_change_time":"Thu Jul 31 08:15:51 EEST 2008","mentors_detail":[],"cf_tracking_b2g":"---","cf_status_b2g_2_0m":"---","status":"VERIFIED","cf_tracking_firefox37":"---","is_cc_accessible":true,"cf_tracking_firefox36":"---","cf_tracking_relnote_b2g":"---","flags":[],"cf_status_firefox_esr31":"---","whiteboard":"","platform":"x86","cf_tracking_firefox_esr31":"---","cf_fx_points":"---","cf_tracking_firefox35":"---","cf_tracking_firefox34":"---","cf_status_b2g_2_2":"---","cf_status_b2g_2_1":"---","cf_status_b2g_2_0":"---","assigned_to":"jud@me.dium.com","cc":["dbaron@dbaron.org"],"summary":"Viewer App Reports incorrect HTTP_USER_AGENT version","severity":"normal","creator":"dbaron@dbaron.org","product":"Core Graveyard","depends_on":[],"cf_tracking_firefox_relnote":"---","blocks":[],"is_confirmed":true,"groups":[],"cf_last_resolved":"Wed Nov 04 18:39:51 EET 1998","url":"","qa_contact":"","target_milestone":"---","component":"Viewer App","is_creator_accessible":true,"cc_detail":[{"name":"dbaron@dbaron.org","real_name":"David Baron [:dbaron] (UTC-5) (needinfo? for questions)","id":3881,"email":"dbaron@dbaron.org"}],"mentors":[],"cf_user_story":""}],"comments":[{"is_private":false,"creation_time":"Sun Sep 20 02:12:11 EEST 1998","creator":"dbaron@dbaron.org","author":"dbaron@dbaron.org","time":"Sun Sep 20 02:12:11 EEST 1998","text":"NGLayout for Windows reports that is the WinNT version of Netscape 4.05.  This is done on line 516 of /webshell/tests/viewer/nsViewerApp.cpp .  The string is currently set to \"4.05 [en] (WinNT;I)\".  It should probably be set to something like \"5.5b0 NGLayout\" and possibly contain a build date or platform.  However, it is very important that it be changed to *anything else* because the reporting version 4.05 causes NGLayout to receive browser-sniffed versions of CSS for Win Navigator 4 that don't send the stuff that crashes Navigator 4 (lots of stuff). However, you may need to use a version number such as 5.5test or 6.0test for the benefit of other types of browser sniffing (I'm not sure what is out there).  This is related to bug 806, but I think this should be changed even before a cross-platform way of changing it is made so that NGLayout can be tested properly.&#137;","id":3259,"bug_id":848,"tags":[]},{"is_private":false,"creation_time":"Sat Oct 03 00:58:59 EEST 1998","creator":"vidur@formerly-netscape.com.tld","author":"vidur@formerly-netscape.com.tld","time":"Sat Oct 03 00:58:59 EEST 1998","text":"Judson is the right person for user-agent/netlib issues.","id":3260,"bug_id":848,"tags":[]},{"is_private":false,"creation_time":"Sat Oct 10 16:43:59 EEST 1998","creator":"dbaron@dbaron.org","author":"dbaron@dbaron.org","time":"Sat Oct 10 16:43:59 EEST 1998","text":"I see the hardcoding of version 4.05 has moved to network/module/nsNetService.cpp line 157.  It looks more difficult to change here, because I was thinking you could do what webshell/tests/viewer/nsViewerApp.cpp does at line 78-79 by reading the NGLAYOUT_HOME variable.  I would suggest reading (the environment variable) NGLAYOUT_UA to get the whole string or reading NGLAYOUT_VER to get the version number to report as HTTP_USER_AGENT. &#137;","id":3261,"bug_id":848,"tags":[]},{"is_private":false,"creation_time":"Fri Oct 23 00:29:59 EEST 1998","creator":"angus@formerly-netscape.com.tld","author":"angus@formerly-netscape.com.tld","time":"Fri Oct 23 00:29:59 EEST 1998","text":"David, want to try implementing this? If so, just reassign the bug to yourself and submit the patch to valeski@netscape.com. I like the environment variable approach.","id":3262,"bug_id":848,"tags":[]},{"is_private":false,"creation_time":"Wed Nov 04 18:39:59 EET 1998","creator":"jud@me.dium.com","author":"jud@me.dium.com","time":"Wed Nov 04 18:39:59 EET 1998","text":"took the env variable approach. Set NG_REQUEST_VER to whatever you want.","id":3263,"bug_id":848,"tags":[]},{"is_private":false,"creation_time":"Wed Feb 03 22:42:59 EET 1999","creator":"rubydoo123@aol.com","author":"rubydoo123@aol.com","time":"Wed Feb 03 22:42:59 EET 1999","text":"asking dbaron to verify this bug.","id":3264,"bug_id":848,"tags":[]},{"is_private":false,"creation_time":"Wed Feb 03 22:43:59 EET 1999","creator":"elig@formerly-netscape.com.tld","author":"elig@formerly-netscape.com.tld","time":"Wed Feb 03 22:43:59 EET 1999","text":"Verified fixed. User agent strings are now:  Mozilla/5.0 [en] (MacPPC; I) Mozilla/5.0 [en] (Win95; I) Mozilla/5.0 [en] (Unix; I)  dbaron, please re-open if there's anything wrong with these user agent strings; thanks!","id":3265,"bug_id":848,"tags":[]},{"is_private":false,"creation_time":"Wed Feb 03 22:44:59 EET 1999","creator":"dbaron@dbaron.org","author":"dbaron@dbaron.org","time":"Wed Feb 03 22:44:59 EET 1999","text":"Verified.  Been using it for months.  (Note:  The default was recently changed to 5.0, solving the original problem in both ways.)","id":3266,"bug_id":848,"tags":[]}]}
